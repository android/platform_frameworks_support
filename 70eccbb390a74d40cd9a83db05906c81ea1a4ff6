{
  "comments": [
    {
      "key": {
        "uuid": "e487595b_34d3e945",
        "filename": "camera/core/src/main/java/androidx/camera/core/CaptureBundle.java",
        "patchSetId": 7
      },
      "lineNbr": 28,
      "author": {
        "id": 1482448
      },
      "writtenOn": "2019-05-10T20:44:39Z",
      "side": 1,
      "message": "Lets keep it as Scope.LIBRARY_GROUP instead of RestrictTo.Scope.LIBRARY_GROUP for sake of consistency across the library.",
      "revId": "70eccbb390a74d40cd9a83db05906c81ea1a4ff6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23942c41_64ca37ad",
        "filename": "camera/core/src/main/java/androidx/camera/core/CaptureBundle.java",
        "patchSetId": 7
      },
      "lineNbr": 28,
      "author": {
        "id": 1475857
      },
      "writtenOn": "2019-05-13T15:36:17Z",
      "side": 1,
      "message": "Got it!",
      "parentUuid": "e487595b_34d3e945",
      "revId": "70eccbb390a74d40cd9a83db05906c81ea1a4ff6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e0f80f0_555c3f81",
        "filename": "camera/core/src/main/java/androidx/camera/core/CaptureBundles.java",
        "patchSetId": 7
      },
      "lineNbr": 29,
      "author": {
        "id": 1482448
      },
      "writtenOn": "2019-05-10T20:44:39Z",
      "side": 1,
      "message": "Lets make this restricted to LIBRARY_GROUP",
      "revId": "70eccbb390a74d40cd9a83db05906c81ea1a4ff6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8dcbb769_c0a2709f",
        "filename": "camera/core/src/main/java/androidx/camera/core/CaptureBundles.java",
        "patchSetId": 7
      },
      "lineNbr": 29,
      "author": {
        "id": 1475857
      },
      "writtenOn": "2019-05-13T15:36:17Z",
      "side": 1,
      "message": "Okay.",
      "parentUuid": "5e0f80f0_555c3f81",
      "revId": "70eccbb390a74d40cd9a83db05906c81ea1a4ff6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ca1a9e50_2865a276",
        "filename": "camera/core/src/main/java/androidx/camera/core/CaptureProcessor.java",
        "patchSetId": 7
      },
      "lineNbr": 54,
      "author": {
        "id": 1482448
      },
      "writtenOn": "2019-05-10T20:44:39Z",
      "side": 1,
      "message": "We should be clear if it is just the input that is updated (or if this should be both input and output.\n\nThis will be invoked when the configured surface resolution is updated.\n-\u003e\nThis will be invoked when the input surface resolution is updated.",
      "revId": "70eccbb390a74d40cd9a83db05906c81ea1a4ff6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e847a7da_c69305db",
        "filename": "camera/core/src/main/java/androidx/camera/core/CaptureProcessor.java",
        "patchSetId": 7
      },
      "lineNbr": 54,
      "author": {
        "id": 1475857
      },
      "writtenOn": "2019-05-13T15:36:17Z",
      "side": 1,
      "message": "Got it, thanks!",
      "parentUuid": "ca1a9e50_2865a276",
      "revId": "70eccbb390a74d40cd9a83db05906c81ea1a4ff6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7444444f_dba6abf0",
        "filename": "camera/extensions/src/main/java/androidx/camera/extensions/ImageCaptureExtender.java",
        "patchSetId": 7
      },
      "lineNbr": 118,
      "author": {
        "id": 1482448
      },
      "writtenOn": "2019-05-10T20:44:39Z",
      "side": 1,
      "message": "Is there a reason that we run onDeinit() on the mainThread, but not onInit()?\n\nOr is it because onBind gets called in bindOnLifecycle which is run on the main thread?\n\nIf it is a requirement that onInit() and onDeInit() both need to run on the main thread we should either protect both or annotate onBind() and onUnbind() both as @MainThread. Because we shouldn\u0027t make the assumption about whether or not onBind/onUnbind gets called on that main thread.",
      "revId": "70eccbb390a74d40cd9a83db05906c81ea1a4ff6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "301f158e_63415354",
        "filename": "camera/extensions/src/main/java/androidx/camera/extensions/ImageCaptureExtender.java",
        "patchSetId": 7
      },
      "lineNbr": 118,
      "author": {
        "id": 1475857
      },
      "writtenOn": "2019-05-13T15:36:17Z",
      "side": 1,
      "message": "Ah, there is no requirement to invoke both onInit() and onDeInit() on mainThread.\nI post the onDeInit() to main thread is because we might invoke onDeInit() from camera thread (after onDisableSession) or main Thread in onUnbind().\n\nTo trigger the onDeInit from onDisableSession() or onUnbind() is because we would like to make sure the onDeinit would be invoked after onDisableSession().",
      "parentUuid": "7444444f_dba6abf0",
      "revId": "70eccbb390a74d40cd9a83db05906c81ea1a4ff6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7e991a6_5eee3bc6",
        "filename": "camera/extensions/src/main/java/androidx/camera/extensions/ImageCaptureExtender.java",
        "patchSetId": 7
      },
      "lineNbr": 118,
      "author": {
        "id": 1482448
      },
      "writtenOn": "2019-05-13T23:36:20Z",
      "side": 1,
      "message": "So whats not clear to me why deInit() needs to be posted onto the main thread? Can\u0027t it just run on which thread it is being called on since it is already being synchronized with mLock.",
      "parentUuid": "301f158e_63415354",
      "revId": "70eccbb390a74d40cd9a83db05906c81ea1a4ff6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2b5cb3e_50891df9",
        "filename": "camera/extensions/src/main/java/androidx/camera/extensions/ImageCaptureExtender.java",
        "patchSetId": 7
      },
      "lineNbr": 118,
      "author": {
        "id": 1475857
      },
      "writtenOn": "2019-05-14T12:16:50Z",
      "side": 1,
      "message": "Oh, not really need to post the deinit() to main thread, just the same like you mentioned, we have already keep use synchronized and mLock to protect the call sequence in our part.\n\nThis is only because if we post to the same thread, might can avoid some potential thread safe issue in vendor part. \nIf we don\u0027t post the deinit(), we might see something looks like:\n/////////////////////\nunbindAll() called.\nHdrImageCapture.onDeInit() called in camera thread  \u003c\u003d it was triggered by onDisableSession()\nHdrPreview.onDeinit() called in main thread \u003c\u003d it was triggered by unbind()\n/////////////////////\nConsider that was invoked on different object, it might be ok to callback to the different thread. Please let me know if we would like to keep the post to main thread code?",
      "parentUuid": "a7e991a6_5eee3bc6",
      "revId": "70eccbb390a74d40cd9a83db05906c81ea1a4ff6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ff92272c_76e0ab4b",
        "filename": "camera/extensions/src/main/java/androidx/camera/extensions/PreviewExtender.java",
        "patchSetId": 7
      },
      "lineNbr": 135,
      "author": {
        "id": 1482448
      },
      "writtenOn": "2019-05-10T20:44:39Z",
      "side": 1,
      "message": "Is there a reason that we run onDeinit() on the mainThread, but not onInit()?\n\nOr is it because onBind gets called in bindOnLifecycle which is run on the main thread?\n\nIf it is a requirement that onInit() and onDeInit() both need to run on the main thread we should either protect both or annotate onBind() and onUnbind() both as @MainThread. Because we shouldn\u0027t make the assumption about whether or not onBind/onUnbind gets called on that main thread.",
      "revId": "70eccbb390a74d40cd9a83db05906c81ea1a4ff6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc5b83eb_b0416e4b",
        "filename": "camera/extensions/src/main/java/androidx/camera/extensions/PreviewExtender.java",
        "patchSetId": 7
      },
      "lineNbr": 135,
      "author": {
        "id": 1475857
      },
      "writtenOn": "2019-05-13T15:36:17Z",
      "side": 1,
      "message": "Ah, there is no requirement to invoke both onInit() and onDeInit() on mainThread.\nI post the onDeInit() to main thread is because we might invoke onDeInit() from camera thread (after onDisableSession) or main Thread in onUnbind().\n\nTo trigger the onDeInit from onDisableSession() or onUnbind() is because we would like to make sure the onDeinit would be invoked after onDisableSession().",
      "parentUuid": "ff92272c_76e0ab4b",
      "revId": "70eccbb390a74d40cd9a83db05906c81ea1a4ff6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}