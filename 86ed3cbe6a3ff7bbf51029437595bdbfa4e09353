{
  "comments": [
    {
      "key": {
        "uuid": "64baf2b8_db32141c",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextLinks.java",
        "patchSetId": 3
      },
      "lineNbr": 167,
      "author": {
        "id": 1138403
      },
      "writtenOn": "2018-08-28T17:00:47Z",
      "side": 1,
      "message": "nit: Can we get the context from the textView?",
      "range": {
        "startLine": 167,
        "startChar": 21,
        "endLine": 167,
        "endChar": 47
      },
      "revId": "86ed3cbe6a3ff7bbf51029437595bdbfa4e09353",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b740aa6f_56a66b2d",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextLinks.java",
        "patchSetId": 3
      },
      "lineNbr": 167,
      "author": {
        "id": 1060841
      },
      "writtenOn": "2018-08-28T17:09:37Z",
      "side": 1,
      "message": "Opps, will fix.",
      "parentUuid": "64baf2b8_db32141c",
      "range": {
        "startLine": 167,
        "startChar": 21,
        "endLine": 167,
        "endChar": 47
      },
      "revId": "86ed3cbe6a3ff7bbf51029437595bdbfa4e09353",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a436d9b_19cf1205",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextLinks.java",
        "patchSetId": 3
      },
      "lineNbr": 167,
      "author": {
        "id": 1060841
      },
      "writtenOn": "2018-08-29T12:20:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b740aa6f_56a66b2d",
      "range": {
        "startLine": 167,
        "startChar": 21,
        "endLine": 167,
        "endChar": 47
      },
      "revId": "86ed3cbe6a3ff7bbf51029437595bdbfa4e09353",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b3066d89_63f96fbc",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextLinks.java",
        "patchSetId": 3
      },
      "lineNbr": 177,
      "author": {
        "id": 1138403
      },
      "writtenOn": "2018-08-28T17:00:47Z",
      "side": 1,
      "message": "nit: TextLinksParams.DEFAULT or TextLinksParams.EMPTY?",
      "range": {
        "startLine": 177,
        "startChar": 53,
        "endLine": 177,
        "endChar": 90
      },
      "revId": "86ed3cbe6a3ff7bbf51029437595bdbfa4e09353",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4f308471_d358723a",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextLinks.java",
        "patchSetId": 3
      },
      "lineNbr": 177,
      "author": {
        "id": 1060841
      },
      "writtenOn": "2018-08-28T17:09:37Z",
      "side": 1,
      "message": "sgtm, will do.",
      "parentUuid": "b3066d89_63f96fbc",
      "range": {
        "startLine": 177,
        "startChar": 53,
        "endLine": 177,
        "endChar": 90
      },
      "revId": "86ed3cbe6a3ff7bbf51029437595bdbfa4e09353",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad33c3d8_f5c70afa",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextLinks.java",
        "patchSetId": 3
      },
      "lineNbr": 177,
      "author": {
        "id": 1060841
      },
      "writtenOn": "2018-08-29T12:20:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4f308471_d358723a",
      "range": {
        "startLine": 177,
        "startChar": 53,
        "endLine": 177,
        "endChar": 90
      },
      "revId": "86ed3cbe6a3ff7bbf51029437595bdbfa4e09353",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c426cca3_9c17ef4e",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextLinks.java",
        "patchSetId": 3
      },
      "lineNbr": 193,
      "author": {
        "id": 1138403
      },
      "writtenOn": "2018-08-28T17:00:47Z",
      "side": 1,
      "message": "nit: Can we consider passing the TextClassifier here so the client would have explicitly told us what TextClassifier they want us to use to classify the text when the link is clicked?",
      "revId": "86ed3cbe6a3ff7bbf51029437595bdbfa4e09353",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "752d643a_049e13f0",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextLinks.java",
        "patchSetId": 3
      },
      "lineNbr": 193,
      "author": {
        "id": 1060841
      },
      "writtenOn": "2018-08-28T17:09:37Z",
      "side": 1,
      "message": "mmm, I explicitly removed the TextClassifier param for now :)\n\nFeel like we better not allow users to pass the TextClassifier here until we have figured it out how to preserve the instance across rotation?\n\nBefore that, maybe they can construct a different request objects to represent the different needs? Actually, what\u0027s the exact use case of it? :)\n\nWDYT?",
      "parentUuid": "c426cca3_9c17ef4e",
      "revId": "86ed3cbe6a3ff7bbf51029437595bdbfa4e09353",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "481c84a3_e255d16a",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextLinks.java",
        "patchSetId": 3
      },
      "lineNbr": 193,
      "author": {
        "id": 1138403
      },
      "writtenOn": "2018-08-28T17:20:52Z",
      "side": 1,
      "message": "sgtm.\n\nThe usecase is:\n\nmyCustomTC.generateLinks(genReq).apply(text, applyParams, myCustomTC);\n\nRight now the code reads as:\n\nmyCustomTC.generateLinks(genReq).apply(text, applyParams, defaultTC);\n\nSo except you\u0027ve set myCustomTC as your default TC in TCM, you\u0027d generate links with one TC and classify the text with a different TC. Think when a client wants to handle custom entities like hashtags or mentions.\nI\u0027m okay if we leave as is for now. We can always add a new API later if necessary after we\u0027ve figured out how to handle rotations.",
      "parentUuid": "752d643a_049e13f0",
      "revId": "86ed3cbe6a3ff7bbf51029437595bdbfa4e09353",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "297f7102_18e711a3",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextLinks.java",
        "patchSetId": 3
      },
      "lineNbr": 193,
      "author": {
        "id": 1060841
      },
      "writtenOn": "2018-08-29T12:20:37Z",
      "side": 1,
      "message": "Let\u0027s add it later if necessary.\n\nRe \"Think when a client wants to handle custom entities like hashtags or mentions.\"\nThey can use entity type in the request object to specify extra entities like hashtags, I think.\n\nThanks!",
      "parentUuid": "481c84a3_e255d16a",
      "revId": "86ed3cbe6a3ff7bbf51029437595bdbfa4e09353",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3163b98c_b95fba30",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextLinks.java",
        "patchSetId": 3
      },
      "lineNbr": 193,
      "author": {
        "id": 1060841
      },
      "writtenOn": "2018-08-29T13:28:47Z",
      "side": 1,
      "message": "To ensure TC used in generateLinks is the same one that is used in classifyText, how about we have generateLinks in TCM?\n\nTCM.generateLinks(...).apply(...);\n\nSo TC.generateLinks is the \"server\" while TCM.generateLinks is the client. And TCM.gerenateLinks will use the TC returned via TC.generateLinks. We can also consider to make TC protected.\n\nWDYT?",
      "parentUuid": "297f7102_18e711a3",
      "revId": "86ed3cbe6a3ff7bbf51029437595bdbfa4e09353",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d9230f0_6d59aa30",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextLinks.java",
        "patchSetId": 3
      },
      "lineNbr": 193,
      "author": {
        "id": 1138403
      },
      "writtenOn": "2018-08-29T14:26:23Z",
      "side": 1,
      "message": "I\u0027m not sure we should move TC methods to TCM. I think generateLinks() really belongs to the TC. Also, I don\u0027t feel it\u0027s compulsory to ensure that the TC that generates the links is the same to classify the links -- that assumption will fall apart pretty quickly. e.g. Developer swaps the TC behind the TCM between generateLinks() and apply() calls. Let\u0027s instead decide later in the future about what the higher level APIs here will be (like we hope to do with the SmartLinkify APIs) when it\u0027s clearer how developers will like to use the APIs.\n\nAlso what do you think about a single apply() method?:\n\ntextLinks.apply(new Params.Builder(textView).build()); // tv.getText() \u0026 TCM.of(tv.getContext())\ntextLinks.apply(new Params.Builder(textView, tc).build()); // tv.getText() \u0026 tc\ntextLinks.apply(new Params.Builder(text, context).build()); // text \u0026 TCM.of(context)\ntextLinks.apply(new Params.Builder(text, tc).build()); // text \u0026 tc\n\nThe apply params don\u0027t need to be parcelable.\n\nI\u0027ll let you decide. We can always revisit based on alpha release feedback.\nThanks.",
      "parentUuid": "3163b98c_b95fba30",
      "revId": "86ed3cbe6a3ff7bbf51029437595bdbfa4e09353",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "effcae9d_e36b0e77",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextLinks.java",
        "patchSetId": 3
      },
      "lineNbr": 193,
      "author": {
        "id": 1060841
      },
      "writtenOn": "2018-08-29T15:16:44Z",
      "side": 1,
      "message": "Re moving to TCM.\nAgreed, never mind.\n\nRe moving textview and spannable to Params.\nA bit hesitant to do so, as they have different running thread requirement.\nThe TextView one requires to run in UI thread, so separating them sounds like a little bit more clear to users, IMO.\n\nBut agree if we take TC as argument later, it should be in params.\n\nThanks.",
      "parentUuid": "0d9230f0_6d59aa30",
      "revId": "86ed3cbe6a3ff7bbf51029437595bdbfa4e09353",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6d5a49b_294110c2",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextLinks.java",
        "patchSetId": 3
      },
      "lineNbr": 193,
      "author": {
        "id": 1138403
      },
      "writtenOn": "2018-08-29T15:56:29Z",
      "side": 1,
      "message": "You\u0027re right. The TextView method has a different requirement.",
      "parentUuid": "effcae9d_e36b0e77",
      "revId": "86ed3cbe6a3ff7bbf51029437595bdbfa4e09353",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}