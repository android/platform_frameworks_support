{
  "comments": [
    {
      "key": {
        "uuid": "62f276fe_87ab9e2e",
        "filename": "room/compiler/src/main/kotlin/androidx/room/writer/TableInfoValidationWriter.kt",
        "patchSetId": 5
      },
      "lineNbr": 55,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-07-08T22:44:53Z",
      "side": 1,
      "message": "move to a constant.",
      "range": {
        "startLine": 55,
        "startChar": 67,
        "endLine": 55,
        "endChar": 86
      },
      "revId": "f5174dc4713930d12ce017a2d85b45e87859078d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "534a0ca6_ec10ce43",
        "filename": "room/compiler/src/main/kotlin/androidx/room/writer/TableInfoValidationWriter.kt",
        "patchSetId": 5
      },
      "lineNbr": 55,
      "author": {
        "id": 1258207
      },
      "writtenOn": "2019-07-08T23:13:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "62f276fe_87ab9e2e",
      "range": {
        "startLine": 55,
        "startChar": 67,
        "endLine": 55,
        "endChar": 86
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "f5174dc4713930d12ce017a2d85b45e87859078d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69d4da8a_e5f44679",
        "filename": "room/runtime/src/main/java/androidx/room/util/TableInfo.java",
        "patchSetId": 5
      },
      "lineNbr": 452,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-07-08T22:44:53Z",
      "side": 1,
      "message": "couldnt\u0027 we simply this if checks by just doing something like:\n\nboolean checkDefaultValue \u003d mCreatedFrom !\u003d UKNOWN \u0026\u0026 column.mCreatedFrom !\u003d UNKNOWN\n\nif (checkDefaultValue \u0026\u0026 (defaultValue !\u003d null \u0026\u0026 !defaultValue.equals(column.defaultValue))) {\n    return false;\n}\n\nalso default check seems wrong since if defaultValue is null and other is not null, it does not check.",
      "range": {
        "startLine": 452,
        "startChar": 12,
        "endLine": 452,
        "endChar": 20
      },
      "revId": "f5174dc4713930d12ce017a2d85b45e87859078d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d9f508b9_085cc216",
        "filename": "room/runtime/src/main/java/androidx/room/util/TableInfo.java",
        "patchSetId": 5
      },
      "lineNbr": 452,
      "author": {
        "id": 1258207
      },
      "writtenOn": "2019-07-08T23:13:55Z",
      "side": 1,
      "message": "That simplification is not enough.\n\nWe want to _not_ validate default value if it was not declared in the entity class via @ColumnInfo. To do that we need to know which info object is which via this new \u0027createFrom\u0027 identifier. Then based on that we can compare and we handle 4 specific cases:\n1. this is from entity and other is from database, then compare using this default value.\n2. this is from database and other is from entity, then compare using other default value.\n3. this and other are from the same source and none is from unknown, then fully compare default value.\n4. the fall-through case, which is when when one or both of the info objects come from a unknown source, then default value is not validated.\n\nNumber 1 is the usual case and covers Room 2.2 with default value defined\nNumber 2 is to keep symmetry with number 1\nNumber 3 is hyptothetical and doesn\u0027t really happen, its for completeness\nAnd number 4 happens in a combination of old room gen code with new runtime (WorkManager).\n\nAdded more tests to make sure.",
      "parentUuid": "69d4da8a_e5f44679",
      "range": {
        "startLine": 452,
        "startChar": 12,
        "endLine": 452,
        "endChar": 20
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "f5174dc4713930d12ce017a2d85b45e87859078d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}