{
  "comments": [
    {
      "key": {
        "uuid": "2dfce79a_02c3e6a3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1344408
      },
      "writtenOn": "2018-08-07T14:55:19Z",
      "side": 1,
      "message": "Could you make this less verbose?",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 71
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1538ea47_e7c9c510",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 445,
      "author": {
        "id": 1344408
      },
      "writtenOn": "2018-08-07T14:55:19Z",
      "side": 1,
      "message": "Add a small comment saying: testing that the system works without listeners - introduced after finding a regression.",
      "range": {
        "startLine": 445,
        "startChar": 16,
        "endLine": 445,
        "endChar": 58
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4631911f_33207bb0",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 445,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-08-07T16:24:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1538ea47_e7c9c510",
      "range": {
        "startLine": 445,
        "startChar": 16,
        "endLine": 445,
        "endChar": 58
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "abdf8cfe_6a7bd1d8",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 457,
      "author": {
        "id": 1344408
      },
      "writtenOn": "2018-08-07T14:55:19Z",
      "side": 1,
      "message": "change to: targetReached",
      "range": {
        "startLine": 457,
        "startChar": 20,
        "endLine": 457,
        "endChar": 29
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa5b7bf8_28c9abe3",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 457,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-08-07T16:24:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "abdf8cfe_6a7bd1d8",
      "range": {
        "startLine": 457,
        "startChar": 20,
        "endLine": 457,
        "endChar": 29
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8230df11_2e67710e",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 458,
      "author": {
        "id": 1344408
      },
      "writtenOn": "2018-08-07T14:55:19Z",
      "side": 1,
      "message": "change to: checkFunctionExecuted",
      "range": {
        "startLine": 458,
        "startChar": 20,
        "endLine": 458,
        "endChar": 28
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "69c64853_91f73d8e",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 458,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-08-07T16:24:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8230df11_2e67710e",
      "range": {
        "startLine": 458,
        "startChar": 20,
        "endLine": 458,
        "endChar": 28
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "92d0516f_bd1cb84a",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 461,
      "author": {
        "id": 1344408
      },
      "writtenOn": "2018-08-07T14:55:19Z",
      "side": 1,
      "message": "change to: checkTargetReached",
      "range": {
        "startLine": 461,
        "startChar": 20,
        "endLine": 461,
        "endChar": 39
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1376b06_80df3a3e",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 461,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-08-07T16:24:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "92d0516f_bd1cb84a",
      "range": {
        "startLine": 461,
        "startChar": 20,
        "endLine": 461,
        "endChar": 39
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "624416b9_f42a39ac",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 480,
      "author": {
        "id": 1344408
      },
      "writtenOn": "2018-08-07T14:55:19Z",
      "side": 1,
      "message": "change to: wait until scroll events propagate in the system",
      "range": {
        "startLine": 480,
        "startChar": 30,
        "endLine": 480,
        "endChar": 53
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "95330848_037e6c86",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 484,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-08-06T19:29:30Z",
      "side": 1,
      "message": "I\u0027m confused about why you need this additional layer of checking.  It seems like the above check (within the while loop) is doing the verification you want and then breaking out of the loop, and then you waiting and checking almost the same thing again?\n\nPerhaps you are making sure that you are actually stopping on the item you think you are stopping on?",
      "range": {
        "startLine": 480,
        "startChar": 16,
        "endLine": 484,
        "endChar": 70
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eebbddf2_88db7367",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 484,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-08-07T11:09:41Z",
      "side": 1,
      "message": "The loop in the test runs on a different thread than the UI thread, in which the scroll takes place. It can happen that the RecyclerView has already positioned the page at the correct position, but the ScrollEventAdapter hasn\u0027t yet propagated this change, because the UI thread is suspended before ScrollEventAdapter.onScrolled is executed. The test thread now continues and sees that the page has landed on its final position. If there were no sleep at the end, it would immediately do the assert (which succeeds), and continue with the next targetPage. However, because the ScrollEventAdapter is still in state SETTLING, the view pager will deny the next setCurrentItem command and thus the test for scrolling to the next targetPage will fail. Hence the sleep: it allows the ScrollEventAdapter to \"finish the scroll\".\n\nAs for the assertion, that\u0027s exactly right, I want to test that the view pager stops at the correct page. I agree that it feels a bit superfluous with the same check in the while loop, but the assertion needs to be somewhere. And there is yet another reason: it tests the public API of the view pager, whereas the check in the while loop uses a test-only extension function. Both are likely to change in this stage of the project.",
      "parentUuid": "95330848_037e6c86",
      "range": {
        "startLine": 480,
        "startChar": 16,
        "endLine": 484,
        "endChar": 70
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "919a2b67_338ad19d",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 484,
      "author": {
        "id": 1344408
      },
      "writtenOn": "2018-08-07T14:55:19Z",
      "side": 1,
      "message": "Would it make sense to change:\nviewPager.currentItem -\u003e viewPager.currentCompletelyVisibleItem\n?\n\nThis would also answer the question (though indirectly) that we did stop scrolling at target.",
      "range": {
        "startLine": 484,
        "startChar": 57,
        "endLine": 484,
        "endChar": 68
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c8a97ab_a6d602f0",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 484,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-08-07T16:24:47Z",
      "side": 1,
      "message": "I would like to keep the assert on currentItem, as that is the public API. I will add the assertion on currentCompletelyVisibleItem as a second check.",
      "parentUuid": "919a2b67_338ad19d",
      "range": {
        "startLine": 484,
        "startChar": 57,
        "endLine": 484,
        "endChar": 68
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c129459a_a61e2e96",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 2
      },
      "lineNbr": 484,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-08-07T16:28:58Z",
      "side": 1,
      "message": "Ah ok.\n\nFor the polling part, check out: androidx.testutils.PollingCheck.  For the sleep(100), it does seem necessary to leave it for now, though I do think it is on Jakub\u0027s todo list to not block setCurrentItem when an animation is in progress.",
      "parentUuid": "eebbddf2_88db7367",
      "range": {
        "startLine": 480,
        "startChar": 16,
        "endLine": 484,
        "endChar": 70
      },
      "revId": "dd288b2644ce4dac9220aef741bfc5c5219d874c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}