{
  "comments": [
    {
      "key": {
        "uuid": "86127888_f36934d3",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 4
      },
      "lineNbr": 165,
      "author": {
        "id": 1470382
      },
      "writtenOn": "2019-06-25T13:48:17Z",
      "side": 1,
      "message": "Can this move to the block at 172 where we are already looping on all libraryVariants?",
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e13cb56b_7c4d061c",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 4
      },
      "lineNbr": 165,
      "author": {
        "id": 1442661
      },
      "writtenOn": "2019-06-27T14:49:51Z",
      "side": 1,
      "message": "Extracted this into it\u0027s own method to share with the task, this doesn\u0027t play nicely with the block below anymore.",
      "parentUuid": "86127888_f36934d3",
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a81924a2_81f54c7b",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 4
      },
      "lineNbr": 644,
      "author": {
        "id": 1086749
      },
      "writtenOn": "2019-06-25T13:30:54Z",
      "side": 1,
      "message": "I would drop Task from the name \"reportLibraryMetrics\"",
      "range": {
        "startLine": 644,
        "startChar": 49,
        "endLine": 644,
        "endChar": 73
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c4baee9_5592b8f2",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 4
      },
      "lineNbr": 644,
      "author": {
        "id": 1442661
      },
      "writtenOn": "2019-06-27T14:49:51Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "a81924a2_81f54c7b",
      "range": {
        "startLine": 644,
        "startChar": 49,
        "endLine": 644,
        "endChar": 73
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0cc03a3a_458162d1",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 4
      },
      "lineNbr": 700,
      "author": {
        "id": 1086749
      },
      "writtenOn": "2019-06-25T13:30:54Z",
      "side": 1,
      "message": "You are only creating this in one place and it is a one liner, I would just add this register directly in the method.",
      "range": {
        "startLine": 696,
        "startChar": 0,
        "endLine": 700,
        "endChar": 1
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8b752fc4_b3c18bba",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 4
      },
      "lineNbr": 700,
      "author": {
        "id": 1442661
      },
      "writtenOn": "2019-06-27T14:49:51Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "0cc03a3a_458162d1",
      "range": {
        "startLine": 696,
        "startChar": 0,
        "endLine": 700,
        "endChar": 1
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "34ee2f10_237ebaf5",
        "filename": "buildSrc/src/main/kotlin/androidx/build/ReportLibraryMetricsTask.kt",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 1086749
      },
      "writtenOn": "2019-06-25T13:30:54Z",
      "side": 1,
      "message": "Do we need to resolve? What if you just create File object and then do writeText(...)? Does that not create an object for you?\n\nI\u0027m thinking val outputFile \u003d File(outputDir, \"${project.name}${METRICS_FILE_SUFFIX}\")",
      "range": {
        "startLine": 43,
        "startChar": 35,
        "endLine": 43,
        "endChar": 42
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "71f102a5_c08320c1",
        "filename": "buildSrc/src/main/kotlin/androidx/build/ReportLibraryMetricsTask.kt",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 1086749
      },
      "writtenOn": "2019-06-25T13:30:54Z",
      "side": 1,
      "message": "Is that unique across all projects? I know for apks we had to do this:\nhttps://cs.corp.google.com/aosp-androidx/buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt?type\u003dcs\u0026q\u003dapk+copy+package:%5Eaosp-androidx$\u0026g\u003d0\u0026l\u003d481",
      "range": {
        "startLine": 43,
        "startChar": 43,
        "endLine": 43,
        "endChar": 55
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7165330a_9a0c8fed",
        "filename": "buildSrc/src/main/kotlin/androidx/build/ReportLibraryMetricsTask.kt",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 1442661
      },
      "writtenOn": "2019-06-27T14:49:51Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "34ee2f10_237ebaf5",
      "range": {
        "startLine": 43,
        "startChar": 35,
        "endLine": 43,
        "endChar": 42
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a6464588_d36b8d73",
        "filename": "buildSrc/src/main/kotlin/androidx/build/ReportLibraryMetricsTask.kt",
        "patchSetId": 4
      },
      "lineNbr": 43,
      "author": {
        "id": 1442661
      },
      "writtenOn": "2019-06-27T14:49:51Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "71f102a5_c08320c1",
      "range": {
        "startLine": 43,
        "startChar": 43,
        "endLine": 43,
        "endChar": 55
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "271e9a48_f6722064",
        "filename": "buildSrc/src/main/kotlin/androidx/build/ReportLibraryMetricsTask.kt",
        "patchSetId": 4
      },
      "lineNbr": 56,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2019-06-25T15:15:03Z",
      "side": 1,
      "message": "This \u0027buildType.name \u003d\u003d \"debug\"\u0027 check seems to me to be the same as https://android-review.googlesource.com/c/platform/frameworks/support/+/987928/4/buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt#166 (so if in the future we want to change the buildtype, we\u0027d have to change it in two spots)\n\nI recommend consolidating them somehow. One way to do that would be to make a static function that looks something like:\n\n  fun findVariants(project: Project): List\u003cLibraryVariant\u003e {\n    return project.extensions.getByType\u003cLibraryExtension\u003e()\n              .libraryVariants.filter { it.buildType.name \u003d\u003d \"debug\" }\n  }\n\nMaybe inside a companion object?",
      "range": {
        "startLine": 56,
        "startChar": 38,
        "endLine": 56,
        "endChar": 66
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8a9d0e9_2ee58ecd",
        "filename": "buildSrc/src/main/kotlin/androidx/build/ReportLibraryMetricsTask.kt",
        "patchSetId": 4
      },
      "lineNbr": 56,
      "author": {
        "id": 1470382
      },
      "writtenOn": "2019-06-25T19:36:21Z",
      "side": 1,
      "message": "Alternatively you can add an Input ListProperty to this task and map the packageLibraryProvider\u0027s output to it\n\nthe implementation would look kind of like this in AndroidXPlugin\n\nreportLibraryMetricsTask.aarFiles +\u003d libraryVariant.packageLibraryProvider.flatMap { it.outputs.files.files }",
      "parentUuid": "271e9a48_f6722064",
      "range": {
        "startLine": 56,
        "startChar": 38,
        "endLine": 56,
        "endChar": 66
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de88eec8_76cf1156",
        "filename": "buildSrc/src/main/kotlin/androidx/build/ReportLibraryMetricsTask.kt",
        "patchSetId": 4
      },
      "lineNbr": 56,
      "author": {
        "id": 1442661
      },
      "writtenOn": "2019-06-27T14:49:51Z",
      "side": 1,
      "message": "Tried doing it with Input ListProperty, wasn\u0027t able to get it to accept the types. Went with companion object, and named the method \"getDebugVariants\"",
      "parentUuid": "c8a9d0e9_2ee58ecd",
      "range": {
        "startLine": 56,
        "startChar": 38,
        "endLine": 56,
        "endChar": 66
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a8b1ee6a_76cb9961",
        "filename": "buildSrc/src/main/kotlin/androidx/build/ReportLibraryMetricsTask.kt",
        "patchSetId": 4
      },
      "lineNbr": 57,
      "author": {
        "id": 1086749
      },
      "writtenOn": "2019-06-25T13:30:54Z",
      "side": 1,
      "message": "Add a comment on why this works. I assume there is ever only one debug libraryVariant?",
      "range": {
        "startLine": 57,
        "startChar": 23,
        "endLine": 57,
        "endChar": 39
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bcd87602_4cf6d264",
        "filename": "buildSrc/src/main/kotlin/androidx/build/ReportLibraryMetricsTask.kt",
        "patchSetId": 4
      },
      "lineNbr": 57,
      "author": {
        "id": 1442661
      },
      "writtenOn": "2019-06-27T14:49:51Z",
      "side": 1,
      "message": "I\u0027m not 100% certain there\u0027s only 1, that was perhaps a naive assumption. Replaced with something more general.",
      "parentUuid": "a8b1ee6a_76cb9961",
      "range": {
        "startLine": 57,
        "startChar": 23,
        "endLine": 57,
        "endChar": 39
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dffd672d_9307c0ba",
        "filename": "buildSrc/src/main/kotlin/androidx/build/ReportLibraryMetricsTask.kt",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1086749
      },
      "writtenOn": "2019-06-25T13:30:54Z",
      "side": 1,
      "message": "would endsWith() be a better comparison?",
      "range": {
        "startLine": 59,
        "startChar": 26,
        "endLine": 59,
        "endChar": 34
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6014be4a_aa8cb703",
        "filename": "buildSrc/src/main/kotlin/androidx/build/ReportLibraryMetricsTask.kt",
        "patchSetId": 4
      },
      "lineNbr": 59,
      "author": {
        "id": 1442661
      },
      "writtenOn": "2019-06-27T14:49:51Z",
      "side": 1,
      "message": "Yes",
      "parentUuid": "dffd672d_9307c0ba",
      "range": {
        "startLine": 59,
        "startChar": 26,
        "endLine": 59,
        "endChar": 34
      },
      "revId": "751ff560cbbfea6721e353736c57470e134e9876",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}