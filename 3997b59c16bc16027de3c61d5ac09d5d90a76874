{
  "comments": [
    {
      "key": {
        "uuid": "acac87b6_50a99648",
        "filename": "media2/src/main/java/androidx/media2/MediaSession.java",
        "patchSetId": 3
      },
      "lineNbr": 139,
      "author": {
        "id": 1018371
      },
      "writtenOn": "2019-02-25T07:57:46Z",
      "side": 1,
      "message": "Can\u0027t we use Uri instead?\nI guess we can get the session id from the session uri.",
      "range": {
        "startLine": 139,
        "startChar": 33,
        "endLine": 139,
        "endChar": 39
      },
      "revId": "3997b59c16bc16027de3c61d5ac09d5d90a76874",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "760451dc_78713dfe",
        "filename": "media2/src/main/java/androidx/media2/MediaSession.java",
        "patchSetId": 3
      },
      "lineNbr": 139,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2019-02-26T07:24:25Z",
      "side": 1,
      "message": "That may be possible, but I think that it only adds code complexity.\n\nCurrently Uri includes timestamp to differentiate sessions with the same ID, to prevent a new session gets the obsoleted PendingIntent from the previously closed session with the same ID.\nSo when we check the ID uniqueness in the constructor, we should iterate with all keys to find whether an ID is used or not. It doesn\u0027t look convenient.\n\nFeel free to reopen if you have another opinion.",
      "parentUuid": "acac87b6_50a99648",
      "range": {
        "startLine": 139,
        "startChar": 33,
        "endLine": 139,
        "endChar": 39
      },
      "revId": "3997b59c16bc16027de3c61d5ac09d5d90a76874",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b176f846_23f77934",
        "filename": "media2/src/main/java/androidx/media2/MediaSession.java",
        "patchSetId": 3
      },
      "lineNbr": 146,
      "author": {
        "id": 1112679
      },
      "writtenOn": "2019-02-25T07:55:00Z",
      "side": 1,
      "message": "minor) How about containsKey?",
      "range": {
        "startLine": 146,
        "startChar": 42,
        "endLine": 146,
        "endChar": 45
      },
      "revId": "3997b59c16bc16027de3c61d5ac09d5d90a76874",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0163f423_afd18113",
        "filename": "media2/src/main/java/androidx/media2/MediaSession.java",
        "patchSetId": 3
      },
      "lineNbr": 146,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2019-02-26T07:24:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b176f846_23f77934",
      "range": {
        "startLine": 146,
        "startChar": 42,
        "endLine": 146,
        "endChar": 45
      },
      "revId": "3997b59c16bc16027de3c61d5ac09d5d90a76874",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8c6ecca0_559c5e9a",
        "filename": "media2/src/main/java/androidx/media2/MediaSessionImplBase.java",
        "patchSetId": 3
      },
      "lineNbr": 92,
      "author": {
        "id": 1112679
      },
      "writtenOn": "2019-02-25T07:55:00Z",
      "side": 1,
      "message": "exposes\n\n\n\nBTW, thanks for the tip related to synchronized :)",
      "range": {
        "startLine": 92,
        "startChar": 91,
        "endLine": 92,
        "endChar": 97
      },
      "revId": "3997b59c16bc16027de3c61d5ac09d5d90a76874",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d8fa1ef_fff8a032",
        "filename": "media2/src/main/java/androidx/media2/MediaSessionImplBase.java",
        "patchSetId": 3
      },
      "lineNbr": 92,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2019-02-26T07:24:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8c6ecca0_559c5e9a",
      "range": {
        "startLine": 92,
        "startChar": 91,
        "endLine": 92,
        "endChar": 97
      },
      "revId": "3997b59c16bc16027de3c61d5ac09d5d90a76874",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0aa8394f_7556a270",
        "filename": "media2/src/main/java/androidx/media2/MediaSessionImplBase.java",
        "patchSetId": 3
      },
      "lineNbr": 96,
      "author": {
        "id": 1112679
      },
      "writtenOn": "2019-02-25T07:55:00Z",
      "side": 1,
      "message": "Q) Can we check this with sServiceComponentName !\u003d null ?",
      "range": {
        "startLine": 96,
        "startChar": 27,
        "endLine": 96,
        "endChar": 53
      },
      "revId": "3997b59c16bc16027de3c61d5ac09d5d90a76874",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39f22c7c_9ab7d4b2",
        "filename": "media2/src/main/java/androidx/media2/MediaSessionImplBase.java",
        "patchSetId": 3
      },
      "lineNbr": 96,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2019-02-26T07:24:25Z",
      "side": 1,
      "message": "No because an app may not have service, and we may query package manager everytime without this variable.",
      "parentUuid": "0aa8394f_7556a270",
      "range": {
        "startLine": 96,
        "startChar": 27,
        "endLine": 96,
        "endChar": 53
      },
      "revId": "3997b59c16bc16027de3c61d5ac09d5d90a76874",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "33c8f8f0_f4e9ed3d",
        "filename": "media2/src/main/java/androidx/media2/MediaSessionImplBase.java",
        "patchSetId": 3
      },
      "lineNbr": 189,
      "author": {
        "id": 1018371
      },
      "writtenOn": "2019-02-25T07:57:46Z",
      "side": 1,
      "message": "Can\u0027t we register one receiver instead of multiple receivers per session?",
      "range": {
        "startLine": 189,
        "startChar": 8,
        "endLine": 189,
        "endChar": 15
      },
      "revId": "3997b59c16bc16027de3c61d5ac09d5d90a76874",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e74307c7_7aacb9dd",
        "filename": "media2/src/main/java/androidx/media2/MediaSessionImplBase.java",
        "patchSetId": 3
      },
      "lineNbr": 189,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2019-02-26T07:24:25Z",
      "side": 1,
      "message": "Since I consider this approach as a workaround because we need MediaButtonReceiver in Media2, I choose to write the simplest code here. What do you think? Feel free to reopen if it really bothers you.\nI also commented about it.\n\nNote: I found that registerReceiver is called even when the MediaSessionService exists and it can handle the PendingIntent. Please don\u0027t be surprised by extra changes other than your comment.",
      "parentUuid": "33c8f8f0_f4e9ed3d",
      "range": {
        "startLine": 189,
        "startChar": 8,
        "endLine": 189,
        "endChar": 15
      },
      "revId": "3997b59c16bc16027de3c61d5ac09d5d90a76874",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7c0be66e_7da3cc87",
        "filename": "media2/src/main/java/androidx/media2/MediaSessionImplBase.java",
        "patchSetId": 3
      },
      "lineNbr": 189,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2019-02-26T07:36:55Z",
      "side": 1,
      "message": "Note: List of the sessions is maintained by the MediaSession, not MediaSessionImplBase. Since that it\u0027s inside of the constructor, MediaSession may or may not be consider this as the registered session or not. Given the aboves, I think that an API (or code) to know whether it\u0027s the first session looks bit ambiguous and not readable well.\n\nGiven that it\u0027s the workaround until the real MediaButtonReceiver and there\u0027s not much app with the multiple sessions, I think that it\u0027s OK (not so good) for now. What do you think? Feel free to tell me about your opinion.",
      "parentUuid": "e74307c7_7aacb9dd",
      "range": {
        "startLine": 189,
        "startChar": 8,
        "endLine": 189,
        "endChar": 15
      },
      "revId": "3997b59c16bc16027de3c61d5ac09d5d90a76874",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "07760d7a_923e324d",
        "filename": "media2/src/main/java/androidx/media2/MediaSessionImplBase.java",
        "patchSetId": 3
      },
      "lineNbr": 1242,
      "author": {
        "id": 1112679
      },
      "writtenOn": "2019-02-27T04:34:05Z",
      "side": 1,
      "message": "Since queryIntentServices may return null or empty list when there is no matching services, let\u0027s not throw an exception when the \u0027resolvedInfos\u0027 is null.\n\nhttps://developer.android.com/reference/android/content/pm/PackageManager#queryIntentServices(android.content.Intent,%20int)",
      "range": {
        "startLine": 1242,
        "startChar": 12,
        "endLine": 1242,
        "endChar": 32
      },
      "revId": "3997b59c16bc16027de3c61d5ac09d5d90a76874",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}