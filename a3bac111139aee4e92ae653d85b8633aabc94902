{
  "comments": [
    {
      "key": {
        "uuid": "e802253f_91cbacf8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1380121
      },
      "writtenOn": "2019-06-21T01:37:25Z",
      "side": 1,
      "message": "It seems that MediaPlayer2Impl#getDuration throws ISE when STATE_IDLE and MediaPlayer catches the exception and eventually returns UNKNOWN_TIME. I think ExoPlayerMediaPlayer2Impl#getDuration should do the same behaviour. What do you think?",
      "range": {
        "startLine": 9,
        "startChar": 6,
        "endLine": 9,
        "endChar": 64
      },
      "revId": "a3bac111139aee4e92ae653d85b8633aabc94902",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e180ec75_346cd922",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1339423
      },
      "writtenOn": "2019-06-21T06:14:00Z",
      "side": 1,
      "message": "I agree. Let me change ExoPlayerMediaPlayer2Impl in another CL.\n\nStill, as mentioned in the comment below, ControllerCallback#onCurrentMediaItemChanged can return null item, so I think we should keep resetMetadataViews.",
      "parentUuid": "e802253f_91cbacf8",
      "range": {
        "startLine": 9,
        "startChar": 6,
        "endLine": 9,
        "endChar": 64
      },
      "revId": "a3bac111139aee4e92ae653d85b8633aabc94902",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a271cf18_9578386f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1380121
      },
      "writtenOn": "2019-06-21T01:37:25Z",
      "side": 1,
      "message": "Does ExoPlayerMediaPlayer2Impl pass null MediaItem to onCurrentMediaItemChanged callback method? Then, the parameter should be annotated by @Nullable not @NonNull in SessionPlayer.PlayerCallback#onCurrentMediaItemChanged.",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 26
      },
      "revId": "a3bac111139aee4e92ae653d85b8633aabc94902",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "886d7e83_923da18d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1339423
      },
      "writtenOn": "2019-06-21T06:14:00Z",
      "side": 1,
      "message": "Actually, it\u0027s not ExoPlayerMediaPlayer2Impl that is calling onCurrentMediaItemChanged(null) but PlayerWrapper, when setPlayer is called.\n\nAlthough SessionPlayer.PlayerCallback#onCurrentMediaItemChanged has @NonNull annotation, ControllerCallback#onCurrentMediaItemChanged has @Nullable annotation. A null item will be returned when MediaSession#updatePlayer is called with a SessionPlayer that does not have a current media item (whereas the previous player did).",
      "parentUuid": "a271cf18_9578386f",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 26
      },
      "revId": "a3bac111139aee4e92ae653d85b8633aabc94902",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dbe241a7_02bfefb4",
        "filename": "media2/widget/src/main/java/androidx/media2/widget/MediaControlView.java",
        "patchSetId": 1
      },
      "lineNbr": 1361,
      "author": {
        "id": 1018419
      },
      "writtenOn": "2019-06-20T22:45:05Z",
      "side": 1,
      "message": "It\u0027s not necessary",
      "revId": "a3bac111139aee4e92ae653d85b8633aabc94902",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3e23b73_d09d42c0",
        "filename": "media2/widget/src/main/java/androidx/media2/widget/MediaControlView.java",
        "patchSetId": 1
      },
      "lineNbr": 1361,
      "author": {
        "id": 1339423
      },
      "writtenOn": "2019-06-21T06:14:00Z",
      "side": 1,
      "message": "Removed",
      "parentUuid": "dbe241a7_02bfefb4",
      "revId": "a3bac111139aee4e92ae653d85b8633aabc94902",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8baf89e6_165b17ed",
        "filename": "media2/widget/src/main/java/androidx/media2/widget/PlayerWrapper.java",
        "patchSetId": 1
      },
      "lineNbr": 249,
      "author": {
        "id": 1380121
      },
      "writtenOn": "2019-06-21T01:37:25Z",
      "side": 1,
      "message": "Q) Does it also need to check STATE_IDLE here?",
      "range": {
        "startLine": 249,
        "startChar": 9,
        "endLine": 249,
        "endChar": 22
      },
      "revId": "a3bac111139aee4e92ae653d85b8633aabc94902",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ea999da_b0ee6d2a",
        "filename": "media2/widget/src/main/java/androidx/media2/widget/PlayerWrapper.java",
        "patchSetId": 1
      },
      "lineNbr": 249,
      "author": {
        "id": 1339423
      },
      "writtenOn": "2019-06-21T06:14:00Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "8baf89e6_165b17ed",
      "range": {
        "startLine": 249,
        "startChar": 9,
        "endLine": 249,
        "endChar": 22
      },
      "revId": "a3bac111139aee4e92ae653d85b8633aabc94902",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "752eb296_4aef28d1",
        "filename": "media2/widget/src/main/java/androidx/media2/widget/PlayerWrapper.java",
        "patchSetId": 1
      },
      "lineNbr": 363,
      "author": {
        "id": 1380121
      },
      "writtenOn": "2019-06-21T01:37:25Z",
      "side": 1,
      "message": "I missed calling onPlayerStateChanged in this method. Could you add it? Otherwise mSavedPlayerState in L113 and L126 may have stale state.",
      "range": {
        "startLine": 363,
        "startChar": 20,
        "endLine": 363,
        "endChar": 31
      },
      "revId": "a3bac111139aee4e92ae653d85b8633aabc94902",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "268d6889_2e0c4c1b",
        "filename": "media2/widget/src/main/java/androidx/media2/widget/PlayerWrapper.java",
        "patchSetId": 1
      },
      "lineNbr": 363,
      "author": {
        "id": 1339423
      },
      "writtenOn": "2019-06-21T06:14:00Z",
      "side": 1,
      "message": "Changed to call updateCachedStates here since mAllowedCommands and mMediaMetadata should be updated as well.",
      "parentUuid": "752eb296_4aef28d1",
      "range": {
        "startLine": 363,
        "startChar": 20,
        "endLine": 363,
        "endChar": 31
      },
      "revId": "a3bac111139aee4e92ae653d85b8633aabc94902",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "faadfcea_2f060c11",
        "filename": "media2/widget/src/main/java/androidx/media2/widget/VideoView.java",
        "patchSetId": 1
      },
      "lineNbr": 591,
      "author": {
        "id": 1380121
      },
      "writtenOn": "2019-06-21T01:37:25Z",
      "side": 1,
      "message": "Minor sugguestion: How about changing L566 to \"item !\u003d null \u0026\u0026 item.getMetadata() !\u003d null \u0026\u0026 isCurrentItemMusic()\" and moving L588-590 to after L582 instead of adding resetMusicView?",
      "range": {
        "startLine": 561,
        "startChar": 0,
        "endLine": 591,
        "endChar": 5
      },
      "revId": "a3bac111139aee4e92ae653d85b8633aabc94902",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c7df26c_a598d884",
        "filename": "media2/widget/src/main/java/androidx/media2/widget/VideoView.java",
        "patchSetId": 1
      },
      "lineNbr": 591,
      "author": {
        "id": 1339423
      },
      "writtenOn": "2019-06-21T06:14:00Z",
      "side": 1,
      "message": "Merged the two methods, also in MediaControlView. PTAL.\n\n(There was a slight change in the logic since MusicView should be updated even though metadata is null)",
      "parentUuid": "faadfcea_2f060c11",
      "range": {
        "startLine": 561,
        "startChar": 0,
        "endLine": 591,
        "endChar": 5
      },
      "revId": "a3bac111139aee4e92ae653d85b8633aabc94902",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}