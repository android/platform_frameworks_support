{
  "comments": [
    {
      "key": {
        "uuid": "3ca9d474_a709937e",
        "filename": "buildSrc/src/main/kotlin/androidx/build/dependencyTracker/AffectedModuleDetector.kt",
        "patchSetId": 4
      },
      "lineNbr": 55,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-02-20T19:08:30Z",
      "side": 1,
      "message": "maybe call it DirectlyDependent to match the  other arg name ? (or change that one instead)",
      "range": {
        "startLine": 55,
        "startChar": 77,
        "endLine": 55,
        "endChar": 86
      },
      "revId": "54fed18b963f228842dc8ae77fdae4cd17a2b034",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8b2c660_c61e1ea1",
        "filename": "buildSrc/src/main/kotlin/androidx/build/dependencyTracker/AffectedModuleDetector.kt",
        "patchSetId": 4
      },
      "lineNbr": 55,
      "author": {
        "id": 1442661
      },
      "writtenOn": "2019-02-20T20:33:23Z",
      "side": 1,
      "message": "The problem with naming it DirectlyDependent is that it\u0027s not just the directly dependent projects that get picked up, it\u0027s all dependent projects. \n\nIf p4 is dependent on p3 and p3 is dependent on p2, and a file changes in p2, then:\n\np2 is directly affected\np3 is directly dependent\np4 is indirectly dependent\np3 and p4 are dependent\n\nThis is meant to capture that 4th set.",
      "parentUuid": "3ca9d474_a709937e",
      "range": {
        "startLine": 55,
        "startChar": 77,
        "endLine": 55,
        "endChar": 86
      },
      "revId": "54fed18b963f228842dc8ae77fdae4cd17a2b034",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c62e212_6af14fe0",
        "filename": "buildSrc/src/main/kotlin/androidx/build/dependencyTracker/AffectedModuleDetector.kt",
        "patchSetId": 4
      },
      "lineNbr": 55,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-02-20T21:09:59Z",
      "side": 1,
      "message": "hmm yes i think that is the context i was missing. so p2 is the actual change but we want just p3/p4, presumably to run their small/medium tests while we run large tests for p2 ?\n\nlets document this in the ENUM constants to avoid any confusion as this is not very easy to understand why.\n\nalso, for the enums, I still don\u0027t like the names but don\u0027t know how to better call it.\n`ONLY_DEPENDENT` and `ONLY_DIRECTLY_AFFECTED` are not guessable at all. Also, ALL feels like all projcts.\n\nmaybe we want them as:\n\nCHANGED_PROJECTS (p2)\nAFFECTED_PROJECTS (p3, p4)\nCHANGED_OR_AFFECTED_PROJEcTS (p2,p3,p4)\n\nin terms of always build, i remember seeing that bug is already fixed and we are just waiting for a deployment, If so, maybe we can ignore it ?",
      "parentUuid": "f8b2c660_c61e1ea1",
      "range": {
        "startLine": 55,
        "startChar": 77,
        "endLine": 55,
        "endChar": 86
      },
      "revId": "54fed18b963f228842dc8ae77fdae4cd17a2b034",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "36f38b44_7c7ee415",
        "filename": "buildSrc/src/main/kotlin/androidx/build/dependencyTracker/AffectedModuleDetector.kt",
        "patchSetId": 4
      },
      "lineNbr": 55,
      "author": {
        "id": 1442661
      },
      "writtenOn": "2019-02-20T22:58:19Z",
      "side": 1,
      "message": "Yes, that\u0027s exactly it. \n\nI\u0027ll document the ENUM further to make this clear.\n\nTaking another look, I agree that `ONLY_DEPENDENT` and `ONLY_DIRECTLY_AFFECTED` are difficult to guess. \n\nI like CHANGED_PROJECTS (p2) as an alternative, but I think DEPENDENT_PROJECTS (p3, p4) works better than AFFECTED_PROJECTS since changed projects (p2) are also \"affected\". \n\nThis would free up the word \"affected\" to be used in the last set as ALL_AFFECTED_PROJECTS which effectively disambiguates from all projects.\n\nYeah, b/112645580 sounds like it\u0027s going to be deployed sometime this week. The google3 half of this is going to land in a couple stages. First just adding large runs to CHANGED_PROJECTS for one API level. If that works out well, the plan is to expand to the other API levels, but we\u0027re going to watch it for a bit to ensure smooth runs. \n\nI\u0027ll add a comment to my tracking bug for this ( b/124792191 ) to watch for the deployment on the always build bug, and remove always build when it goes into affect. But I\u0027d rather leave it for now, just to be safe. \n\nDoes this sound good? I\u0027m going to wait to refactor and add that ENUM documentation until we reach an agreement on the names.",
      "parentUuid": "7c62e212_6af14fe0",
      "range": {
        "startLine": 55,
        "startChar": 77,
        "endLine": 55,
        "endChar": 86
      },
      "revId": "54fed18b963f228842dc8ae77fdae4cd17a2b034",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15666874_130fbc3f",
        "filename": "buildSrc/src/main/kotlin/androidx/build/dependencyTracker/AffectedModuleDetector.kt",
        "patchSetId": 4
      },
      "lineNbr": 163,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-02-20T19:08:30Z",
      "side": 1,
      "message": "looks like these should be an ENUM ?",
      "range": {
        "startLine": 162,
        "startChar": 4,
        "endLine": 163,
        "endChar": 54
      },
      "revId": "54fed18b963f228842dc8ae77fdae4cd17a2b034",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f57919a_0109631a",
        "filename": "buildSrc/src/main/kotlin/androidx/build/dependencyTracker/AffectedModuleDetector.kt",
        "patchSetId": 4
      },
      "lineNbr": 163,
      "author": {
        "id": 1442661
      },
      "writtenOn": "2019-02-20T20:33:23Z",
      "side": 1,
      "message": "Yes! Fixed, looks better. Hopefully I put the enum in the right place in the file.",
      "parentUuid": "15666874_130fbc3f",
      "range": {
        "startLine": 162,
        "startChar": 4,
        "endLine": 163,
        "endChar": 54
      },
      "revId": "54fed18b963f228842dc8ae77fdae4cd17a2b034",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7ca60d7_40d81edb",
        "filename": "buildSrc/src/main/kotlin/androidx/build/dependencyTracker/AffectedModuleDetector.kt",
        "patchSetId": 4
      },
      "lineNbr": 163,
      "author": {
        "id": 1442661
      },
      "writtenOn": "2019-02-20T22:58:19Z",
      "side": 1,
      "message": "Marking resolved.",
      "parentUuid": "3f57919a_0109631a",
      "range": {
        "startLine": 162,
        "startChar": 4,
        "endLine": 163,
        "endChar": 54
      },
      "revId": "54fed18b963f228842dc8ae77fdae4cd17a2b034",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "036db95f_87b52e82",
        "filename": "buildSrc/src/main/kotlin/androidx/build/dependencyTracker/AffectedModuleDetector.kt",
        "patchSetId": 4
      },
      "lineNbr": 237,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-02-20T19:08:30Z",
      "side": 1,
      "message": "not sure why we remove the projects themselves here",
      "revId": "54fed18b963f228842dc8ae77fdae4cd17a2b034",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c73fa84_80729d7f",
        "filename": "buildSrc/src/main/kotlin/androidx/build/dependencyTracker/AffectedModuleDetector.kt",
        "patchSetId": 4
      },
      "lineNbr": 237,
      "author": {
        "id": 1442661
      },
      "writtenOn": "2019-02-20T20:33:23Z",
      "side": 1,
      "message": "In order to return only dependent modules I expand the set of affected modules from containingProjects (the directly affected projects) to include the dependents. But this still includes the directly affected projects, which we don\u0027t want to include.",
      "parentUuid": "036db95f_87b52e82",
      "revId": "54fed18b963f228842dc8ae77fdae4cd17a2b034",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9184df7e_4e04e099",
        "filename": "buildSrc/src/main/kotlin/androidx/build/dependencyTracker/AffectedModuleDetector.kt",
        "patchSetId": 4
      },
      "lineNbr": 237,
      "author": {
        "id": 1442661
      },
      "writtenOn": "2019-02-20T22:58:19Z",
      "side": 1,
      "message": "Okay to assume resolved here?",
      "parentUuid": "2c73fa84_80729d7f",
      "revId": "54fed18b963f228842dc8ae77fdae4cd17a2b034",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}