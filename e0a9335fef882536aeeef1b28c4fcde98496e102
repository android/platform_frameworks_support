{
  "comments": [
    {
      "key": {
        "uuid": "d5a6d7db_35527c99",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 2
      },
      "lineNbr": 367,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2018-11-26T21:35:46Z",
      "side": 1,
      "message": "It\u0027s probably possibly to consolidate this with getPublicApiFile on line 426 too",
      "range": {
        "startLine": 367,
        "startChar": 25,
        "endLine": 367,
        "endChar": 93
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f84f156_efc1972b",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 2
      },
      "lineNbr": 367,
      "author": {
        "id": 1354330
      },
      "writtenOn": "2018-11-27T15:17:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d5a6d7db_35527c99",
      "range": {
        "startLine": 367,
        "startChar": 25,
        "endLine": 367,
        "endChar": 93
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f88540b5_b0d02a2e",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 2
      },
      "lineNbr": 382,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2018-11-26T21:35:46Z",
      "side": 1,
      "message": "Does this (changing the input of the task inside the `doFirst` block) result in correct incrementalism (task runs when inputs change and ideally task doesn\u0027t run when inputs don\u0027t change)?\n\nI think we want to run this during project configuration",
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec9eed12_36382488",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 2
      },
      "lineNbr": 382,
      "author": {
        "id": 1354330
      },
      "writtenOn": "2018-11-27T15:17:41Z",
      "side": 1,
      "message": "Problem was the file might not exist by configuration time if it\u0027s a clean build, I noticed that when running a clean build that when passing the file that does not yet exist it doesn\u0027t find the public.txt file in time and assumes it doesn\u0027t exist and generates an empty api file. However if you specify the File(\".../public.txt\") and it doesn\u0027t exist (no public res api) then you don\u0027t have the option to check within the task if the file exists or not and instead you will get an error saying \"file specified for property newApiFile does not exist\". So the workaround was to check beforehand if it existed and pass the file or otherwise not pass anything which will default to null and the task knows how to handle it. But again you can\u0027t check if the file exists before the building process runs because it won\u0027t exist, so we doFirst in order to know the check will happen right before the task and after the build.  To work around this, we can use @InputFiles instead which will allow passing in files that may not exist and we can check ourselves if they do. I didn\u0027t want to use @InputFiles instead of @InputFile, but it\u0027s not a strong preference, I\u0027m assuming you would think it\u0027s lesser of two evils, so I\u0027ll do that instead.",
      "parentUuid": "f88540b5_b0d02a2e",
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cac37d76_51501dc2",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 2
      },
      "lineNbr": 397,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2018-11-26T21:35:46Z",
      "side": 1,
      "message": "(same question about task incrementalism)",
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "850edabf_7f81af4d",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 2
      },
      "lineNbr": 397,
      "author": {
        "id": 1354330
      },
      "writtenOn": "2018-11-27T15:17:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cac37d76_51501dc2",
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a31de0ea_e25a22ea",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 2
      },
      "lineNbr": 417,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2018-11-26T21:35:46Z",
      "side": 1,
      "message": "Hmm, it\u0027s too bad that `rootProject.tasks[BUILD_ON_SERVER_TASK]` presumably doesn\u0027t work",
      "range": {
        "startLine": 417,
        "startChar": 37,
        "endLine": 417,
        "endChar": 41
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9eff8df3_ba46a39d",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 2
      },
      "lineNbr": 418,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2018-11-26T21:35:46Z",
      "side": 1,
      "message": "I think you can use BUILD_ON_SERVER_TASK (in case we get around to changing the name)",
      "range": {
        "startLine": 418,
        "startChar": 33,
        "endLine": 418,
        "endChar": 48
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27eaaa50_0a578b5e",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 2
      },
      "lineNbr": 418,
      "author": {
        "id": 1354330
      },
      "writtenOn": "2018-11-27T15:17:41Z",
      "side": 1,
      "message": "Nice, I didn\u0027t know know if I could reference that and I should have probably tried, turns out you I can.",
      "parentUuid": "9eff8df3_ba46a39d",
      "range": {
        "startLine": 418,
        "startChar": 33,
        "endLine": 418,
        "endChar": 48
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3b9a6620_0ec7c6a2",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 2
      },
      "lineNbr": 426,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2018-11-26T21:35:46Z",
      "side": 1,
      "message": "It\u0027d be cool to come up with a more descriptive name that mentions both the out/ dir and the resources, perhaps \"getResourcesGeneratedApiFile\"?",
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79e54f8a_2d972c3a",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 2
      },
      "lineNbr": 426,
      "author": {
        "id": 1354330
      },
      "writtenOn": "2018-11-27T15:17:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3b9a6620_0ec7c6a2",
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6dcba2fa_28a17322",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 2
      },
      "lineNbr": 427,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2018-11-26T21:35:46Z",
      "side": 1,
      "message": "Technically this dir might not be writable; we probably want to respect the `OUT_DIR` environment variable; probably the easiest way to do that is to make this path relative to project.rootProject.buildDir instead",
      "range": {
        "startLine": 427,
        "startChar": 16,
        "endLine": 427,
        "endChar": 43
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "276941f7_d50c1d4a",
        "filename": "buildSrc/src/main/kotlin/androidx/build/AndroidXPlugin.kt",
        "patchSetId": 2
      },
      "lineNbr": 427,
      "author": {
        "id": 1354330
      },
      "writtenOn": "2018-11-27T15:17:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6dcba2fa_28a17322",
      "range": {
        "startLine": 427,
        "startChar": 16,
        "endLine": 427,
        "endChar": 43
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c5ac19e7_4d7857b6",
        "filename": "buildSrc/src/main/kotlin/androidx/build/CheckResourceApiTask.kt",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2018-11-26T21:35:46Z",
      "side": 1,
      "message": "Probably want this task name to match the one on line 37",
      "range": {
        "startLine": 28,
        "startChar": 26,
        "endLine": 28,
        "endChar": 43
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5047351e_b0269448",
        "filename": "buildSrc/src/main/kotlin/androidx/build/CheckResourceApiTask.kt",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1354330
      },
      "writtenOn": "2018-11-27T15:17:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c5ac19e7_4d7857b6",
      "range": {
        "startLine": 28,
        "startChar": 26,
        "endLine": 28,
        "endChar": 43
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bdeff319_b56885af",
        "filename": "buildSrc/src/main/kotlin/androidx/build/UpdateResourceApiTask.kt",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2018-11-26T21:35:46Z",
      "side": 1,
      "message": "I think it would be slightly faster to read (and more interestingly to confirm the correctness of) if instead of modifying an existing variable (such as oldResourceApi) and giving it a slightly different purpose (previously oldResourceApi was the full API of all resources, and now it the resources that were removed) we were to instead make a new variable (such as removedResourceApis) and check (and print) that instead",
      "range": {
        "startLine": 51,
        "startChar": 59,
        "endLine": 51,
        "endChar": 84
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "50394e2a_a8a1cfcf",
        "filename": "buildSrc/src/main/kotlin/androidx/build/UpdateResourceApiTask.kt",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1354330
      },
      "writtenOn": "2018-11-27T15:17:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bdeff319_b56885af",
      "range": {
        "startLine": 51,
        "startChar": 59,
        "endLine": 51,
        "endChar": 84
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c6b4c85d_bcd4f798",
        "filename": "buildSrc/src/main/kotlin/androidx/build/UpdateResourceApiTask.kt",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2018-11-26T21:35:46Z",
      "side": 1,
      "message": "Suggest adding \"since ${oldResourceApi.path}\"",
      "range": {
        "startLine": 53,
        "startChar": 47,
        "endLine": 53,
        "endChar": 48
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e387d85f_6a86ff18",
        "filename": "buildSrc/src/main/kotlin/androidx/build/UpdateResourceApiTask.kt",
        "patchSetId": 2
      },
      "lineNbr": 53,
      "author": {
        "id": 1354330
      },
      "writtenOn": "2018-11-27T15:17:41Z",
      "side": 1,
      "message": "Maybe put the version instead of the full resource api file path?",
      "parentUuid": "c6b4c85d_bcd4f798",
      "range": {
        "startLine": 53,
        "startChar": 47,
        "endLine": 53,
        "endChar": 48
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "45f35d69_6a9d79fb",
        "filename": "buildSrc/src/main/kotlin/androidx/build/UpdateResourceApiTask.kt",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1137668
      },
      "writtenOn": "2018-11-26T21:35:46Z",
      "side": 1,
      "message": "Suggest adding \"since ${oldResourceApi.path}\"",
      "range": {
        "startLine": 63,
        "startChar": 55,
        "endLine": 63,
        "endChar": 56
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1110cf61_01322497",
        "filename": "buildSrc/src/main/kotlin/androidx/build/UpdateResourceApiTask.kt",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1354330
      },
      "writtenOn": "2018-11-27T15:17:41Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "45f35d69_6a9d79fb",
      "range": {
        "startLine": 63,
        "startChar": 55,
        "endLine": 63,
        "endChar": 56
      },
      "revId": "e0a9335fef882536aeeef1b28c4fcde98496e102",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}