{
  "comments": [
    {
      "key": {
        "uuid": "d8444fd1_d8bc2259",
        "filename": "recyclerview/recyclerview/src/androidTest/java/androidx/recyclerview/widget/GridLayoutManagerTest.java",
        "patchSetId": 26
      },
      "lineNbr": 1338,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-12-14T21:50:49Z",
      "side": 1,
      "message": "I think the following correctness tests are also good idea.\n\n1. computeVerticalScrollRange_spansUsedForEstimate_isCorrect\n2. computeVerticalScrollScrollOffset_spansUsedForEstimate_isCorrect (this can test a few different items for different bounds)\n3. setSpanGroupIndexCacheEnabled_trueAnd2callsForSameItem_onlyCalledOnce\n\n4. getSpanGroupIndex_spansUsed_isCorrect\n5. getSpanGroupIndex_spansUsedAndCacheSpanIndex_isCorrect\n6. getSpanGroupIndex_spansUsedAndCacheSpanGroupIndex_isCorrect\n7. getSpanGroupIndex_spansUsedAndCacheAll_isCorrect\n\n8. getSpanGroupIndex_spansNotUsed_isCorrect\n9. getSpanGroupIndex_spansNotUsedAndCacheSpanIndex_isCorrect\n10. getSpanGroupIndex_spansNotUsedAndCacheSpanGroupIndex_isCorrect\n11. getSpanGroupIndex_spansNotUsedAndCacheAll_isCorrect\n\nI think that basically covers all of the changes to public functionality you\u0027ve made.  I think these tests also cover what you were testing, so you don\u0027t need to keep your test along side these.\n\nWhen writing these tests, please keep the RV size constant, and the size of the the Views it contains constant as well, and then check for dimension information based on those constants.  There have been too many tests that start failing because these were not constant.",
      "range": {
        "startLine": 1338,
        "startChar": 4,
        "endLine": 1338,
        "endChar": 9
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a2a47d6_1093d27f",
        "filename": "recyclerview/recyclerview/src/androidTest/java/androidx/recyclerview/widget/GridLayoutManagerTest.java",
        "patchSetId": 26
      },
      "lineNbr": 1338,
      "author": {
        "id": 1398837
      },
      "writtenOn": "2018-12-19T01:53:21Z",
      "side": 1,
      "message": "1. computeVerticalScrollRange_spansUsedForEstimate_isCorrect\n2. computeVerticalScrollScrollOffset_spansUsedForEstimate_isCorrect (this can test a few different items for different bounds)\n\nThese tests are never written in other contexts, as you can see in LinearLayoutManager tests where the original behavior was, the value depends on pixels which would make this tests tightly coupled to whatever device was being used for testing. To properly run this test I would need to have the same device that is being used for the presubmit. So would anyone else that ever ran these tests. I don\u0027t think it\u0027s a good idea to write this. The test that I wrote does cover this. offset should be 0 at the top, something else at the bottom, but then that plus the range should cover the entire extent. This is already more testing then before. \n\n_isCorrect. That\u0027s just redundant, you could go around adding that to all the tests. \n\nhow do you mean for spans not used? It sounds like you mean that  span size \u003d 1. The span tests that I do have test this with the first few items, and I believe this is covered adequately. \n\nFeel free to disagree on any of the above, I\u0027ll write more.",
      "parentUuid": "d8444fd1_d8bc2259",
      "range": {
        "startLine": 1338,
        "startChar": 4,
        "endLine": 1338,
        "endChar": 9
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dea59dcf_e5919b1e",
        "filename": "recyclerview/recyclerview/src/androidTest/java/androidx/recyclerview/widget/GridLayoutManagerTest.java",
        "patchSetId": 26
      },
      "lineNbr": 1338,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-12-19T22:54:05Z",
      "side": 1,
      "message": "Ah, so, I believe that\n\n1. computeVerticalScrollRange_spansUsedForEstimate_isCorrect\n2. computeVerticalScrollScrollOffset_spansUsedForEstimate_isCorrect (this can test a few different items for different bounds)\n\nAre consistently testable by hard coding the dimension of the child not affected by spans (height for vertical scrolling, width for horizontal scrolling) and hardcoding the size of the RV, both in pixels.  That way, it doesn\u0027t matter what device the tests are running on.  Also, both of these things seem fundamentally important to make sure they are correct... those two things are the primary things you\u0027ve defined the behavior for.  Right?\n\nAlso, _isCorrect is supposed to be shorthand for \"the thing we are testing is that the value returned by the method being called is correct\".  As opposed to \"the thing we are testing is that the mutated value of X is 23 when we call scrollToItem(4)\".  I don\u0027t mean _isCorrect in the sense that the test is passing... that would be redundant.\n\nAlso, my whoops, my bad... I don\u0027t know why I mixed \"getSpanGroupIndex\" and \"spansUsed\".  The value returned by getSpanGroupIndex is not affected by whether or not GridLayoutManager is using spans to estimate scroll bar dimensions.  I\u0027ve commented appropriately on the tests below.",
      "parentUuid": "2a2a47d6_1093d27f",
      "range": {
        "startLine": 1338,
        "startChar": 4,
        "endLine": 1338,
        "endChar": 9
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d379b5d2_91688c8c",
        "filename": "recyclerview/recyclerview/src/androidTest/java/androidx/recyclerview/widget/GridLayoutManagerTest.java",
        "patchSetId": 26
      },
      "lineNbr": 1338,
      "author": {
        "id": 1398837
      },
      "writtenOn": "2019-01-09T22:21:54Z",
      "side": 1,
      "message": "added test.",
      "parentUuid": "dea59dcf_e5919b1e",
      "range": {
        "startLine": 1338,
        "startChar": 4,
        "endLine": 1338,
        "endChar": 9
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4cc36478_103cf494",
        "filename": "recyclerview/recyclerview/src/androidTest/java/androidx/recyclerview/widget/GridLayoutManagerTest.java",
        "patchSetId": 26
      },
      "lineNbr": 1339,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-12-14T21:50:49Z",
      "side": 1,
      "message": "Could you use the form \"thingBeingTested_(unique configuration if any)_thingBeingVerified\" like computeVerticalScrollRange_mixedItemSpanSizesAndScroll_rangeIsConstant.",
      "range": {
        "startLine": 1339,
        "startChar": 16,
        "endLine": 1339,
        "endChar": 50
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7794cd37_7d58475e",
        "filename": "recyclerview/recyclerview/src/androidTest/java/androidx/recyclerview/widget/GridLayoutManagerTest.java",
        "patchSetId": 26
      },
      "lineNbr": 1339,
      "author": {
        "id": 1398837
      },
      "writtenOn": "2018-12-19T01:53:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4cc36478_103cf494",
      "range": {
        "startLine": 1339,
        "startChar": 16,
        "endLine": 1339,
        "endChar": 50
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "48cc3dac_31d11b06",
        "filename": "recyclerview/recyclerview/src/androidTest/java/androidx/recyclerview/widget/GridLayoutManagerTest.java",
        "patchSetId": 26
      },
      "lineNbr": 1348,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-12-14T21:50:49Z",
      "side": 1,
      "message": "The testing infrastructure is not very clear.  It looks to me like this method doesn\u0027t do anything without a call to mAdapter.assignSpanSizeLookup... which in turn would make your previous call to mSpanSizeLookup.setSpanGroupIndexCacheEnabled unused (that call could be moved to be afterwards the assignSpanSizeLookup call, but verifying the correctness of things with setSpanGroupIndexCacheEnabled should probably be its own test).",
      "range": {
        "startLine": 1348,
        "startChar": 17,
        "endLine": 1348,
        "endChar": 28
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e33a412_574dbbbe",
        "filename": "recyclerview/recyclerview/src/androidTest/java/androidx/recyclerview/widget/GridLayoutManagerTest.java",
        "patchSetId": 26
      },
      "lineNbr": 1348,
      "author": {
        "id": 1398837
      },
      "writtenOn": "2018-12-19T01:53:21Z",
      "side": 1,
      "message": "it alters the array that is used for the calculation, this works fine and other tests relly on doing it just like this.",
      "parentUuid": "48cc3dac_31d11b06",
      "range": {
        "startLine": 1348,
        "startChar": 17,
        "endLine": 1348,
        "endChar": 28
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dbfafa9d_6e91fe57",
        "filename": "recyclerview/recyclerview/src/androidTest/java/androidx/recyclerview/widget/GridLayoutManagerTest.java",
        "patchSetId": 26
      },
      "lineNbr": 1348,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-12-19T22:54:05Z",
      "side": 1,
      "message": "Ah you are right... the testing infrastructure confused me.",
      "parentUuid": "3e33a412_574dbbbe",
      "range": {
        "startLine": 1348,
        "startChar": 17,
        "endLine": 1348,
        "endChar": 28
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b318790e_60740d9c",
        "filename": "recyclerview/recyclerview/src/main/java/androidx/recyclerview/widget/GridLayoutManager.java",
        "patchSetId": 26
      },
      "lineNbr": 1026,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-12-14T21:50:49Z",
      "side": 1,
      "message": "Hmm, I think I\u0027d prefer that mCacheSpanGroupIndicies is here... and in fact \"mSpanGroupIndexCache.size() \u003e 0\" really doesn\u0027t need to be.  \n\nSorry, but please make this \"if(setSpanIndexCacheEnabled) { \"...\n\nLastly, it is probably best for mSpanGroupIndexCache to be cleared if setSpanGroupIndexCacheEnabled is called with false.",
      "range": {
        "startLine": 1026,
        "startChar": 15,
        "endLine": 1026,
        "endChar": 16
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "afc569a0_a109677e",
        "filename": "recyclerview/recyclerview/src/main/java/androidx/recyclerview/widget/GridLayoutManager.java",
        "patchSetId": 26
      },
      "lineNbr": 1026,
      "author": {
        "id": 1398837
      },
      "writtenOn": "2018-12-19T01:53:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b318790e_60740d9c",
      "range": {
        "startLine": 1026,
        "startChar": 15,
        "endLine": 1026,
        "endChar": 16
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d8f5759a_b966a2fb",
        "filename": "recyclerview/recyclerview/src/main/java/androidx/recyclerview/widget/GridLayoutManager.java",
        "patchSetId": 26
      },
      "lineNbr": 1026,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-12-19T22:54:05Z",
      "side": 1,
      "message": "Sorry for the back and forth.  Thanks for following through!",
      "parentUuid": "afc569a0_a109677e",
      "range": {
        "startLine": 1026,
        "startChar": 15,
        "endLine": 1026,
        "endChar": 16
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c24b02e5_414b7d1c",
        "filename": "recyclerview/recyclerview/src/main/java/androidx/recyclerview/widget/GridLayoutManager.java",
        "patchSetId": 26
      },
      "lineNbr": 1031,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-12-14T21:50:49Z",
      "side": 1,
      "message": "Shouldn\u0027t this be prevKey?",
      "range": {
        "startLine": 1031,
        "startChar": 42,
        "endLine": 1031,
        "endChar": 57
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "584c7767_5c839e10",
        "filename": "recyclerview/recyclerview/src/main/java/androidx/recyclerview/widget/GridLayoutManager.java",
        "patchSetId": 26
      },
      "lineNbr": 1031,
      "author": {
        "id": 1398837
      },
      "writtenOn": "2018-12-19T01:53:21Z",
      "side": 1,
      "message": "great catch!",
      "parentUuid": "c24b02e5_414b7d1c",
      "range": {
        "startLine": 1031,
        "startChar": 42,
        "endLine": 1031,
        "endChar": 57
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "62d827c3_d8a2ec75",
        "filename": "recyclerview/recyclerview/src/main/java/androidx/recyclerview/widget/GridLayoutManager.java",
        "patchSetId": 26
      },
      "lineNbr": 1239,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-12-14T21:50:49Z",
      "side": 1,
      "message": "replace with \",\"",
      "range": {
        "startLine": 1239,
        "startChar": 66,
        "endLine": 1239,
        "endChar": 70
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c4a9ad8_b7e7c49c",
        "filename": "recyclerview/recyclerview/src/main/java/androidx/recyclerview/widget/GridLayoutManager.java",
        "patchSetId": 26
      },
      "lineNbr": 1239,
      "author": {
        "id": 1398837
      },
      "writtenOn": "2018-12-19T01:53:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "62d827c3_d8a2ec75",
      "range": {
        "startLine": 1239,
        "startChar": 66,
        "endLine": 1239,
        "endChar": 70
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd9adb79_ab4fc9c3",
        "filename": "recyclerview/recyclerview/src/main/java/androidx/recyclerview/widget/GridLayoutManager.java",
        "patchSetId": 26
      },
      "lineNbr": 1241,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-12-14T21:50:49Z",
      "side": 1,
      "message": "replace with \"and that span index caching is also enabled via a call to\"",
      "range": {
        "startLine": 1241,
        "startChar": 11,
        "endLine": 1241,
        "endChar": 43
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f07af529_dff367eb",
        "filename": "recyclerview/recyclerview/src/main/java/androidx/recyclerview/widget/GridLayoutManager.java",
        "patchSetId": 26
      },
      "lineNbr": 1241,
      "author": {
        "id": 1398837
      },
      "writtenOn": "2018-12-19T01:53:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bd9adb79_ab4fc9c3",
      "range": {
        "startLine": 1241,
        "startChar": 11,
        "endLine": 1241,
        "endChar": 43
      },
      "revId": "ad704702df21e039f98cf9bcfc0d6ce45ef0698b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}