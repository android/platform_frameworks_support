{
  "comments": [
    {
      "key": {
        "uuid": "72791809_6af5ed0a",
        "filename": "camera/core/src/main/java/androidx/camera/core/CameraX.java",
        "patchSetId": 1
      },
      "lineNbr": 73,
      "author": {
        "id": 1481635
      },
      "writtenOn": "2019-05-15T05:42:34Z",
      "side": 1,
      "message": "The camera capture session and camera device seems to be closed when Lifecycle.Event#ON_STOP comes, the current flow is \nUseCaseGroupLifeCycleController.onStop()\n-\u003e UseCaseGroup.onStop()\n-\u003e CameraRepository.onGroupInactive()\n-\u003e Camera.removeOnlineUseCase()\n-\u003e if no online UseCase, call Camera.close()\n-\u003e Camera.closeCameraResource()\n-\u003e CameraCaptureSession.close() and CameraDevice.close()\n\nWhen Lifecycle.Event#ON_DESTROY comes (in UseCaseGroupLifeCycleController.onDestroy), CameraX clear use cases\u0027 resource by calling UseCase.clear() and remove use cases from UseCaseGroup.",
      "range": {
        "startLine": 72,
        "startChar": 32,
        "endLine": 73,
        "endChar": 45
      },
      "revId": "1769fb1d6b0ee744605853b1fc90104418722749",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e09cbda_c265c052",
        "filename": "camera/core/src/main/java/androidx/camera/core/CameraX.java",
        "patchSetId": 1
      },
      "lineNbr": 73,
      "author": {
        "id": 1086104
      },
      "writtenOn": "2019-05-15T20:53:58Z",
      "side": 1,
      "message": "Is below also true then?\nIf UseCase.clear() is called, then that use case should never be re-used.",
      "parentUuid": "72791809_6af5ed0a",
      "range": {
        "startLine": 72,
        "startChar": 32,
        "endLine": 73,
        "endChar": 45
      },
      "revId": "1769fb1d6b0ee744605853b1fc90104418722749",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2ddf9187_bdc99b62",
        "filename": "camera/core/src/main/java/androidx/camera/core/CameraX.java",
        "patchSetId": 1
      },
      "lineNbr": 73,
      "author": {
        "id": 1481635
      },
      "writtenOn": "2019-05-16T03:55:37Z",
      "side": 1,
      "message": "I think the answer is \"false\" if we are aiming to support the use case re-use (call to CameraX.unbind(UseCase) will also invoke UseCase.clear()). CameraX has to make sure the resource will be correctly re-initialized when use case is rebound.",
      "parentUuid": "8e09cbda_c265c052",
      "range": {
        "startLine": 72,
        "startChar": 32,
        "endLine": 73,
        "endChar": 45
      },
      "revId": "1769fb1d6b0ee744605853b1fc90104418722749",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc03e9a7_eb14b419",
        "filename": "camera/core/src/main/java/androidx/camera/core/CameraX.java",
        "patchSetId": 1
      },
      "lineNbr": 73,
      "author": {
        "id": 1086104
      },
      "writtenOn": "2019-05-17T23:06:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2ddf9187_bdc99b62",
      "range": {
        "startLine": 72,
        "startChar": 32,
        "endLine": 73,
        "endChar": 45
      },
      "revId": "1769fb1d6b0ee744605853b1fc90104418722749",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6b1a9c6a_f8cb1725",
        "filename": "camera/core/src/main/java/androidx/camera/core/CameraX.java",
        "patchSetId": 1
      },
      "lineNbr": 226,
      "author": {
        "id": 1481635
      },
      "writtenOn": "2019-05-15T05:42:34Z",
      "side": 1,
      "message": "From the code perspective, for the same use case instance, it has not been designed for reuse after use case is unbound, and it has not been well tested too. \nTake Preview as an example, if unbind a Preview and then bind it again, user has to (at least) call Preview.setOnPreviewOutputUpdateListener() in order to trigger notifyActive() inside the method to make the Preview receive camera data.",
      "range": {
        "startLine": 226,
        "startChar": 7,
        "endLine": 226,
        "endChar": 95
      },
      "revId": "1769fb1d6b0ee744605853b1fc90104418722749",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f78859b5_91d3e8e7",
        "filename": "camera/core/src/main/java/androidx/camera/core/CameraX.java",
        "patchSetId": 1
      },
      "lineNbr": 226,
      "author": {
        "id": 1086104
      },
      "writtenOn": "2019-05-15T20:53:58Z",
      "side": 1,
      "message": "Added a note for now listeners and settings should be reset. I think we are aiming for use-case reuse in general.",
      "parentUuid": "6b1a9c6a_f8cb1725",
      "range": {
        "startLine": 226,
        "startChar": 7,
        "endLine": 226,
        "endChar": 95
      },
      "revId": "1769fb1d6b0ee744605853b1fc90104418722749",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81f76b0c_882a913c",
        "filename": "camera/core/src/main/java/androidx/camera/core/CameraX.java",
        "patchSetId": 1
      },
      "lineNbr": 226,
      "author": {
        "id": 1086104
      },
      "writtenOn": "2019-05-17T23:06:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f78859b5_91d3e8e7",
      "range": {
        "startLine": 226,
        "startChar": 7,
        "endLine": 226,
        "endChar": 95
      },
      "revId": "1769fb1d6b0ee744605853b1fc90104418722749",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}