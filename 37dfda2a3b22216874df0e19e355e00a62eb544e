{
  "comments": [
    {
      "key": {
        "uuid": "fbc0e585_b23e526f",
        "filename": "room/integration-tests/testapp/src/androidTest/java/androidx/room/integration/testapp/test/IdentityDetectionTest.java",
        "patchSetId": 6
      },
      "lineNbr": 90,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-06-03T14:31:44Z",
      "side": 1,
      "message": "I think we should still fail if master table is dropped unless we are opening from assets. Open for debate.",
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "048da55b_c756d9ea",
        "filename": "room/integration-tests/testapp/src/androidTest/java/androidx/room/integration/testapp/test/IdentityDetectionTest.java",
        "patchSetId": 6
      },
      "lineNbr": 90,
      "author": {
        "id": 1258207
      },
      "writtenOn": "2019-06-04T01:03:18Z",
      "side": 1,
      "message": "Thinking more about it I agree, no room master table can be sign for very bad things yet we kind it hide it if we always re-create it, so make sense to only do the re-create for pre-packaged DB. Reverted this change.",
      "parentUuid": "fbc0e585_b23e526f",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "80d2c36d_5464ec56",
        "filename": "room/integration-tests/testapp/src/androidTest/java/androidx/room/integration/testapp/test/IdentityDetectionTest.java",
        "patchSetId": 6
      },
      "lineNbr": 90,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-06-06T23:39:16Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "048da55b_c756d9ea",
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cfb550f0_cd05b7a4",
        "filename": "room/integration-tests/testapp/src/androidTest/java/androidx/room/integration/testapp/test/PrepackageTest.java",
        "patchSetId": 6
      },
      "lineNbr": 83,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-06-03T14:31:44Z",
      "side": 1,
      "message": "why not reference ErrorMessages ?",
      "range": {
        "startLine": 83,
        "startChar": 60,
        "endLine": 83,
        "endChar": 85
      },
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb492dde_e1dbff3f",
        "filename": "room/integration-tests/testapp/src/androidTest/java/androidx/room/integration/testapp/test/PrepackageTest.java",
        "patchSetId": 6
      },
      "lineNbr": 83,
      "author": {
        "id": 1258207
      },
      "writtenOn": "2019-06-04T01:03:18Z",
      "side": 1,
      "message": "This error comes from the generated code of validateMigration() (not ErrorMessages) which I want to change to hint pre-package DB validation error and not during a migration, so using this for now.",
      "parentUuid": "cfb550f0_cd05b7a4",
      "range": {
        "startLine": 83,
        "startChar": 60,
        "endLine": 83,
        "endChar": 85
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b5a3faa0_c2bd159e",
        "filename": "room/integration-tests/testapp/src/androidTest/java/androidx/room/integration/testapp/test/PrepackageTest.java",
        "patchSetId": 6
      },
      "lineNbr": 83,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-06-06T23:39:16Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "cb492dde_e1dbff3f",
      "range": {
        "startLine": 83,
        "startChar": 60,
        "endLine": 83,
        "endChar": 85
      },
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4893595e_4fdddc45",
        "filename": "room/runtime/src/main/java/androidx/room/DatabaseConfiguration.java",
        "patchSetId": 6
      },
      "lineNbr": 238,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-06-03T14:31:44Z",
      "side": 1,
      "message": "why is it external? just copyFromAssets ? or copyFromResource ?",
      "range": {
        "startLine": 238,
        "startChar": 20,
        "endLine": 238,
        "endChar": 41
      },
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d98e2b1_326213bb",
        "filename": "room/runtime/src/main/java/androidx/room/DatabaseConfiguration.java",
        "patchSetId": 6
      },
      "lineNbr": 238,
      "author": {
        "id": 1258207
      },
      "writtenOn": "2019-06-04T01:03:18Z",
      "side": 1,
      "message": "Naming is haaaard - renamed to copyFromAssets",
      "parentUuid": "4893595e_4fdddc45",
      "range": {
        "startLine": 238,
        "startChar": 20,
        "endLine": 238,
        "endChar": 41
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4f03ed82_25faba34",
        "filename": "room/runtime/src/main/java/androidx/room/RoomDatabase.java",
        "patchSetId": 6
      },
      "lineNbr": 564,
      "author": {
        "id": 1098853
      },
      "writtenOn": "2019-06-03T11:44:02Z",
      "side": 1,
      "message": "This looks worrisome. Are there any usecases where you\u0027d want to have both? Maybe we should expose instead something like: \n\nPrePopulatedDBOpenHelper.createFromAsset(..., delegate)?\n\nAs well I think it is better to separate asset and file codepathes, it looks cleaner than having bool param in this case. Check if from reader point of view: createFromFile(\"path\", true) what does this \"true\" mean, a reader has to go and read the createFromFile docs. In \n\"createFromAsset\" case, there is no mysterious bool and it is obvious what is going on.",
      "range": {
        "startLine": 563,
        "startChar": 10,
        "endLine": 564,
        "endChar": 60
      },
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3a21026_6a233374",
        "filename": "room/runtime/src/main/java/androidx/room/RoomDatabase.java",
        "patchSetId": 6
      },
      "lineNbr": 564,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-06-03T14:31:44Z",
      "side": 1,
      "message": "+1 for both.\n\nre: Helper -\u003e This would make it impossible to use this feature w/ encrpyted dbs. We could somehow implement delegation ourselves.",
      "parentUuid": "4f03ed82_25faba34",
      "range": {
        "startLine": 563,
        "startChar": 10,
        "endLine": 564,
        "endChar": 60
      },
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "025200fb_48f59908",
        "filename": "room/runtime/src/main/java/androidx/room/RoomDatabase.java",
        "patchSetId": 6
      },
      "lineNbr": 564,
      "author": {
        "id": 1258207
      },
      "writtenOn": "2019-06-04T01:03:18Z",
      "side": 1,
      "message": "My original API had two methods, createFromAsset() and createFromFile(), went back to that, avoiding the API boolean (still kept it internally thou). I also lifted the restriction that a custom open helper can\u0027t be used with this, we\u0027ll just wrap whatever open helper is given to Room.\n\nOn the other hand, I don\u0027t know if exposing a public PrePopulatedDBOpenHelper class and its factory is a good idea, the helper is an impl detail and is simple enough that anyone can do it if they wanted, the important changes around validating and migration are in the RoomOpenHelper which now allow consistency on those who impl their copy helper and now avoids the need for a fake migration.",
      "parentUuid": "f3a21026_6a233374",
      "range": {
        "startLine": 563,
        "startChar": 10,
        "endLine": 564,
        "endChar": 60
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "48072151_e58c48d6",
        "filename": "room/runtime/src/main/java/androidx/room/RoomDatabase.java",
        "patchSetId": 6
      },
      "lineNbr": 564,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-06-06T23:39:16Z",
      "side": 1,
      "message": "i think PrePopulatedDBOpenHelper should stay private, why would a developer want to use it if we already wrap automatically ?",
      "parentUuid": "025200fb_48f59908",
      "range": {
        "startLine": 563,
        "startChar": 10,
        "endLine": 564,
        "endChar": 60
      },
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "33c92451_d315703a",
        "filename": "room/runtime/src/main/java/androidx/room/RoomOpenHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 146,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-06-03T14:31:44Z",
      "side": 1,
      "message": "we should rely on configuration to make this decision.",
      "range": {
        "startLine": 145,
        "startChar": 12,
        "endLine": 146,
        "endChar": 27
      },
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97dcd2e8_d8850e9d",
        "filename": "room/runtime/src/main/java/androidx/room/RoomOpenHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 146,
      "author": {
        "id": 1258207
      },
      "writtenOn": "2019-06-04T01:03:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "33c92451_d315703a",
      "range": {
        "startLine": 145,
        "startChar": 12,
        "endLine": 146,
        "endChar": 27
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56055199_3da47811",
        "filename": "room/testing/src/main/java/androidx/room/testing/MigrationTestHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 486,
      "author": {
        "id": 1060337
      },
      "writtenOn": "2019-06-03T14:31:44Z",
      "side": 1,
      "message": "again, i would like to condition this change on opening w/ an asset db.",
      "range": {
        "startLine": 486,
        "startChar": 23,
        "endLine": 486,
        "endChar": 40
      },
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9e20786_02b6bf30",
        "filename": "room/testing/src/main/java/androidx/room/testing/MigrationTestHelper.java",
        "patchSetId": 6
      },
      "lineNbr": 486,
      "author": {
        "id": 1258207
      },
      "writtenOn": "2019-06-04T01:03:18Z",
      "side": 1,
      "message": "Done - Reverted this change, added condition in RoomOpenHelper.",
      "parentUuid": "56055199_3da47811",
      "range": {
        "startLine": 486,
        "startChar": 23,
        "endLine": 486,
        "endChar": 40
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "37dfda2a3b22216874df0e19e355e00a62eb544e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}