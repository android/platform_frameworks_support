{
  "comments": [
    {
      "key": {
        "uuid": "08379f0b_98a73fa6",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 516,
      "author": {
        "id": 1026966
      },
      "writtenOn": "2018-10-23T03:03:35Z",
      "side": 1,
      "message": "I agree on having two different list proposal you mentioned offline. How about the followings?\n\nfinal ArrayDeque\u003cPendingFuture\u003e mPendingFutures \u003d new ArrayDeque\u003c\u003e();\nfinal ArrayDeque\u003cPendingCommand\u003e mPendingCommands \u003d new ArrayDeque\u003c\u003e();\n\n|mPendingFutures| only keeps the futures returned to the client.\n|mPendingCommands| only keeps the MP2 commands submitted to MP2 instance.\n\nIn XMediaPlayer, it executes the first item from mPendingFutures and does not remove the first item from the list. when the onExecute of the first item is executed, it may submit several MP2 operations and add some pending items in the mPendingCommands.\nIn onCallComplete callback, if there is no more item in mPendingCommands, pop the first item in mPendingFutures. When something wrong happens, e.g. error or MP2 command error, forward the error to the client and cancel and clear mPendingCommands.",
      "range": {
        "startLine": 515,
        "startChar": 4,
        "endLine": 516,
        "endChar": 73
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d269c42b_e5f175f7",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 516,
      "author": {
        "id": 1018371
      },
      "writtenOn": "2018-10-23T08:07:59Z",
      "side": 1,
      "message": "I found a counterexample that two lists aren\u0027t helpful.\n\nIf we call seekTo() multiple times, we should add all of them into the mPendingCommands not step by step in order to make the MP2 cancel some of them.\n\nThat means, sometimes we should execute multiple pending futures without waiting the results, and sometime we should wait to execute a pending future until other executed pending futures returns the results.\n\nSo, using two lists doesn\u0027t look helpful. What do you think?",
      "parentUuid": "08379f0b_98a73fa6",
      "range": {
        "startLine": 515,
        "startChar": 4,
        "endLine": 516,
        "endChar": 73
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb152196_bf7b9330",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 516,
      "author": {
        "id": 1026966
      },
      "writtenOn": "2018-10-24T00:20:48Z",
      "side": 1,
      "message": "As discussed offline, we are doing very simple the skipping for seek operation now. Please refer to aosp/789757.",
      "parentUuid": "d269c42b_e5f175f7",
      "range": {
        "startLine": 515,
        "startChar": 4,
        "endLine": 516,
        "endChar": 73
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8857af3_03b21320",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 516,
      "author": {
        "id": 1018371
      },
      "writtenOn": "2018-11-08T02:19:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eb152196_bf7b9330",
      "range": {
        "startLine": 515,
        "startChar": 4,
        "endLine": 516,
        "endChar": 73
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fbb7abd5_5c794e55",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 581,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2018-10-22T08:54:43Z",
      "side": 1,
      "message": "Q) Does XMediaPlayer throws an Exception during the execution?\nI thought that we agreed not to throw an exception but using result code.",
      "range": {
        "startLine": 581,
        "startChar": 32,
        "endLine": 581,
        "endChar": 44
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "875cb604_31aad073",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 581,
      "author": {
        "id": 1018371
      },
      "writtenOn": "2018-10-23T08:07:59Z",
      "side": 1,
      "message": "we should throw IllegalArgumentException at the time the method is called.",
      "parentUuid": "fbb7abd5_5c794e55",
      "range": {
        "startLine": 581,
        "startChar": 32,
        "endLine": 581,
        "endChar": 44
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aef94cca_dc686b98",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 583,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2018-10-22T08:54:43Z",
      "side": 1,
      "message": "Q) Is isDone()\u003d\u003dfalse when isCancelled()\u003d\u003dtrue?\nI thought that done includes canceled, because cancel() calls setException(CancellationException) inside.",
      "range": {
        "startLine": 583,
        "startChar": 35,
        "endLine": 583,
        "endChar": 55
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2d4125fd_ebb157f7",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 583,
      "author": {
        "id": 1018371
      },
      "writtenOn": "2018-10-23T08:07:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "aef94cca_dc686b98",
      "range": {
        "startLine": 583,
        "startChar": 35,
        "endLine": 583,
        "endChar": 55
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b520510a_ff25cdcf",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 665,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2018-10-22T08:54:43Z",
      "side": 1,
      "message": "nit) You may change this to \u0027private PendingFuture addPendingFuture(final PendingFuture future)\u0027 to save tens of lines.",
      "range": {
        "startLine": 665,
        "startChar": 17,
        "endLine": 665,
        "endChar": 33
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f90a8f49_59142164",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 665,
      "author": {
        "id": 1018371
      },
      "writtenOn": "2018-10-23T08:07:59Z",
      "side": 1,
      "message": "If there a add(...) method which returns something, what is the expected return value for it?\nIs it the item which was added? or a boolean which denotes success or failure? or just void?\n\nI think having more than tens of lines is better than ambiguity.\nWhat do you think?",
      "parentUuid": "b520510a_ff25cdcf",
      "range": {
        "startLine": 665,
        "startChar": 17,
        "endLine": 665,
        "endChar": 33
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "51a60301_d3a9cb24",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 683,
      "author": {
        "id": 1026966
      },
      "writtenOn": "2018-10-23T03:03:35Z",
      "side": 1,
      "message": "cancelation is not needed here. registering runnable for cancellation is needed only for the future returned to the client.",
      "range": {
        "startLine": 683,
        "startChar": 51,
        "endLine": 683,
        "endChar": 68
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2c6e5c1_408f608d",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 683,
      "author": {
        "id": 1018371
      },
      "writtenOn": "2018-10-23T08:07:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "51a60301_d3a9cb24",
      "range": {
        "startLine": 683,
        "startChar": 51,
        "endLine": 683,
        "endChar": 68
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "36d836d2_ea3f790d",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 2063,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2018-10-22T08:54:43Z",
      "side": 1,
      "message": "why don\u0027t you return immediately as other methdos are doing, here and other places.",
      "range": {
        "startLine": 2063,
        "startChar": 0,
        "endLine": 2063,
        "endChar": 94
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f96e62f8_3dfbb248",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 2063,
      "author": {
        "id": 1018371
      },
      "writtenOn": "2018-10-23T08:07:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "36d836d2_ea3f790d",
      "range": {
        "startLine": 2063,
        "startChar": 0,
        "endLine": 2063,
        "endChar": 94
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "634cd906_66017b38",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 2098,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2018-10-22T08:54:43Z",
      "side": 1,
      "message": "why don\u0027t you return immediately as other methods are doing?",
      "range": {
        "startLine": 2098,
        "startChar": 0,
        "endLine": 2098,
        "endChar": 51
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2aaef5a5_89fb37dd",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 2098,
      "author": {
        "id": 1018371
      },
      "writtenOn": "2018-10-23T08:07:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "634cd906_66017b38",
      "range": {
        "startLine": 2098,
        "startChar": 0,
        "endLine": 2098,
        "endChar": 51
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ce9dc2d5_043beeb0",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 2305,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2018-10-22T08:54:43Z",
      "side": 1,
      "message": "if (!(future instanceof PendingXPlayerFuture)) for readability + matching with below comment.",
      "range": {
        "startLine": 2305,
        "startChar": 20,
        "endLine": 2305,
        "endChar": 54
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9a65222_bb477b57",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 2305,
      "author": {
        "id": 1018371
      },
      "writtenOn": "2018-10-23T08:07:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ce9dc2d5_043beeb0",
      "range": {
        "startLine": 2305,
        "startChar": 20,
        "endLine": 2305,
        "endChar": 54
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b6d6396b_9b4f6bbd",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 2320,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2018-10-22T08:54:43Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 2320,
        "startChar": 20,
        "endLine": 2320,
        "endChar": 58
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15dcd7f5_4ef681ed",
        "filename": "media2/src/main/java/androidx/media2/XMediaPlayer.java",
        "patchSetId": 4
      },
      "lineNbr": 2320,
      "author": {
        "id": 1018371
      },
      "writtenOn": "2018-10-23T08:07:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b6d6396b_9b4f6bbd",
      "range": {
        "startLine": 2320,
        "startChar": 20,
        "endLine": 2320,
        "endChar": 58
      },
      "revId": "62c6affb232d8cc230939df1e7e86a667fed2a6f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}