{
  "comments": [
    {
      "key": {
        "uuid": "a92ba345_c38f587a",
        "filename": "camera/camera2/src/androidTest/java/androidx/camera/camera2/ImageCaptureTest.java",
        "patchSetId": 2
      },
      "lineNbr": 129,
      "author": {
        "id": 1481938
      },
      "writtenOn": "2019-04-23T03:27:54Z",
      "side": 1,
      "message": "Should we add this to all other androidTest ?",
      "revId": "d041c78c12d3bfca7d29471bdb5918cfd9847d97",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28995351_57bed866",
        "filename": "camera/camera2/src/androidTest/java/androidx/camera/camera2/ImageCaptureTest.java",
        "patchSetId": 2
      },
      "lineNbr": 129,
      "author": {
        "id": 1452466
      },
      "writtenOn": "2019-04-24T06:17:08Z",
      "side": 1,
      "message": "If test will open camera, it should grant permission respectively.",
      "parentUuid": "a92ba345_c38f587a",
      "revId": "d041c78c12d3bfca7d29471bdb5918cfd9847d97",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7bd79833_67ddfd1c",
        "filename": "camera/camera2/src/androidTest/java/androidx/camera/camera2/ImageCaptureTest.java",
        "patchSetId": 2
      },
      "lineNbr": 129,
      "author": {
        "id": 1481938
      },
      "writtenOn": "2019-04-24T14:39:18Z",
      "side": 1,
      "message": "I believe most androidTest will open camera (if no , it makes little sense to run in device/emulator) , so why don\u0027t we fix all the possible failure ?",
      "parentUuid": "28995351_57bed866",
      "revId": "d041c78c12d3bfca7d29471bdb5918cfd9847d97",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "53786d8c_5f08791f",
        "filename": "camera/camera2/src/androidTest/java/androidx/camera/camera2/ImageCaptureTest.java",
        "patchSetId": 2
      },
      "lineNbr": 129,
      "author": {
        "id": 1377888
      },
      "writtenOn": "2019-04-24T17:53:39Z",
      "side": 1,
      "message": "Agreed, we should add this rule to any tests that require the camera.\n\nThere are other reasons to run tests as emulator tests, but for the most part I think many of our emulator tests were just added as emulator tests mistakenly or because we didn\u0027t have a good way of abstracting away the camera requirement.\n\nDetermining which tests require the camera can be tricky. The best way I have found is to run each test individually (right click test class, run in Android Studio), uninstalling the test APK between tests. If tests are run together, they are all packaged into the same APK, so if one of them uses the GrantPermissionRule, the permission will be automatically granted for all other tests in the APK. This is why running a test individually, and uninstalling the APK every time is necessary for figuring out which tests need the permission.",
      "parentUuid": "7bd79833_67ddfd1c",
      "revId": "d041c78c12d3bfca7d29471bdb5918cfd9847d97",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}