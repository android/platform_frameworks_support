{
  "comments": [
    {
      "key": {
        "uuid": "495fdd9f_86b04089",
        "filename": "car/core/src/androidTest/java/androidx/car/widget/CarToolbarTest.java",
        "patchSetId": 5
      },
      "lineNbr": 337,
      "author": {
        "id": 1344512
      },
      "writtenOn": "2019-01-09T23:13:53Z",
      "side": 1,
      "message": "I think you need to add an idle wait check after this runOnUiThread() call:\n\n  InstrumentationRegistry.getInstrumentation().waitForIdleSync();\n\nThis way, we won\u0027t run into flaky tests. It\u0027s possible that it might run the assert before the views have finished laying themselves out.\n\nThe reason you don\u0027t need it for the testIsOverflowMenuShowing() is because the onView() calls will implicitly wait for this under the hood.\n\nYou also need to update testHideOverflowMenu().",
      "revId": "3b8a9374f4586212654241b5e827e88d3cff894b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "00b12845_02e5781b",
        "filename": "car/core/src/androidTest/java/androidx/car/widget/CarToolbarTest.java",
        "patchSetId": 5
      },
      "lineNbr": 337,
      "author": {
        "id": 1363753
      },
      "writtenOn": "2019-01-10T12:19:01Z",
      "side": 1,
      "message": "Good point, updated.",
      "parentUuid": "495fdd9f_86b04089",
      "revId": "3b8a9374f4586212654241b5e827e88d3cff894b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5750c51b_5d8a49d8",
        "filename": "car/core/src/androidTest/java/androidx/car/widget/CarToolbarTest.java",
        "patchSetId": 5
      },
      "lineNbr": 339,
      "author": {
        "id": 1344512
      },
      "writtenOn": "2019-01-09T23:13:53Z",
      "side": 1,
      "message": "Can you test if the dialog is actually being displayed instead?",
      "revId": "3b8a9374f4586212654241b5e827e88d3cff894b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "12a5c950_85075c56",
        "filename": "car/core/src/androidTest/java/androidx/car/widget/CarToolbarTest.java",
        "patchSetId": 5
      },
      "lineNbr": 339,
      "author": {
        "id": 1363753
      },
      "writtenOn": "2019-01-10T12:19:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5750c51b_5d8a49d8",
      "revId": "3b8a9374f4586212654241b5e827e88d3cff894b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1d4b4eb6_8cd4c272",
        "filename": "car/core/src/androidTest/java/androidx/car/widget/CarToolbarTest.java",
        "patchSetId": 5
      },
      "lineNbr": 355,
      "author": {
        "id": 1344512
      },
      "writtenOn": "2019-01-09T23:13:53Z",
      "side": 1,
      "message": "And here, check if the dialog is being hidden instead",
      "revId": "3b8a9374f4586212654241b5e827e88d3cff894b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c17a2a1_697cd05c",
        "filename": "car/core/src/androidTest/java/androidx/car/widget/CarToolbarTest.java",
        "patchSetId": 5
      },
      "lineNbr": 355,
      "author": {
        "id": 1363753
      },
      "writtenOn": "2019-01-10T12:19:01Z",
      "side": 1,
      "message": "How do I do this properly? I tried this but was not able to match any views which kind of makes sense.",
      "parentUuid": "1d4b4eb6_8cd4c272",
      "revId": "3b8a9374f4586212654241b5e827e88d3cff894b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4eeaf9e4_eb3e06f1",
        "filename": "car/core/src/androidTest/java/androidx/car/widget/CarToolbarTest.java",
        "patchSetId": 5
      },
      "lineNbr": 355,
      "author": {
        "id": 1206625
      },
      "writtenOn": "2019-01-10T20:45:48Z",
      "side": 1,
      "message": "I can think of a few ways:\n\n- you could give the item some text, and make sure it\u0027s not displayed after calling hide overflow menu;\n\n- perhaps try using a type matcher to look for list dialog, and verify it doesn\u0027t exist (i haven\u0027t tried this before)\nhttps://developer.android.com/reference/android/support/test/espresso/matcher/BoundedMatcher\nhttps://developer.android.com/reference/android/support/test/espresso/matcher/RootMatchers.html#isDialog()\n\nin addition, you could add more tests so that we can trust isOverflowMenuShowing() for verification here and other places (basically the same thing as above but done in a different place).\n\nFWIW, toolbar cts uses isOverflowMenuShowing()\nhttps://cs.corp.google.com/android/cts/tests/tests/widget/src/android/widget/cts/ToolbarTest.java?l\u003d161",
      "parentUuid": "7c17a2a1_697cd05c",
      "revId": "3b8a9374f4586212654241b5e827e88d3cff894b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37d8deb4_67478b2b",
        "filename": "car/core/src/main/java/androidx/car/widget/CarToolbar.java",
        "patchSetId": 5
      },
      "lineNbr": 585,
      "author": {
        "id": 1344512
      },
      "writtenOn": "2019-01-09T23:13:53Z",
      "side": 1,
      "message": "Remove these two extra new lines",
      "revId": "3b8a9374f4586212654241b5e827e88d3cff894b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f01240e4_1f207db8",
        "filename": "car/core/src/main/java/androidx/car/widget/CarToolbar.java",
        "patchSetId": 5
      },
      "lineNbr": 585,
      "author": {
        "id": 1363753
      },
      "writtenOn": "2019-01-10T12:19:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "37d8deb4_67478b2b",
      "revId": "3b8a9374f4586212654241b5e827e88d3cff894b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a1b30440_2ca6e278",
        "filename": "car/core/src/main/java/androidx/car/widget/CarToolbar.java",
        "patchSetId": 5
      },
      "lineNbr": 588,
      "author": {
        "id": 1344512
      },
      "writtenOn": "2019-01-09T23:13:53Z",
      "side": 1,
      "message": "No need to capitalize this.",
      "range": {
        "startLine": 588,
        "startChar": 35,
        "endLine": 588,
        "endChar": 43
      },
      "revId": "3b8a9374f4586212654241b5e827e88d3cff894b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7cd9f060_99e2fbbc",
        "filename": "car/core/src/main/java/androidx/car/widget/CarToolbar.java",
        "patchSetId": 5
      },
      "lineNbr": 588,
      "author": {
        "id": 1363753
      },
      "writtenOn": "2019-01-10T12:19:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a1b30440_2ca6e278",
      "range": {
        "startLine": 588,
        "startChar": 35,
        "endLine": 588,
        "endChar": 43
      },
      "revId": "3b8a9374f4586212654241b5e827e88d3cff894b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "07d0755f_da920d5e",
        "filename": "car/core/src/main/java/androidx/car/widget/CarToolbar.java",
        "patchSetId": 5
      },
      "lineNbr": 591,
      "author": {
        "id": 1344512
      },
      "writtenOn": "2019-01-09T23:13:53Z",
      "side": 1,
      "message": "Don\u0027t need these surrounding parenthesis.\n\nhttp://go/java-style#s4.7-grouping-parentheses\n\nI don\u0027t really think they help with readability",
      "range": {
        "startLine": 591,
        "startChar": 15,
        "endLine": 591,
        "endChar": 16
      },
      "revId": "3b8a9374f4586212654241b5e827e88d3cff894b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0067feb_cacb3c86",
        "filename": "car/core/src/main/java/androidx/car/widget/CarToolbar.java",
        "patchSetId": 5
      },
      "lineNbr": 591,
      "author": {
        "id": 1363753
      },
      "writtenOn": "2019-01-10T12:19:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "07d0755f_da920d5e",
      "range": {
        "startLine": 591,
        "startChar": 15,
        "endLine": 591,
        "endChar": 16
      },
      "revId": "3b8a9374f4586212654241b5e827e88d3cff894b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}