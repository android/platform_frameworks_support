{
  "comments": [
    {
      "key": {
        "uuid": "af1b8665_f2976d5d",
        "filename": "room/runtime/src/main/java/androidx/room/util/ProcessLock.java",
        "patchSetId": 9
      },
      "lineNbr": 43,
      "author": {
        "id": 1098853
      },
      "writtenOn": "2019-06-21T10:58:44Z",
      "side": 1,
      "message": "do you think that is worth to separating out? I mean we can rely only on FileLock ðŸ¤” \n\nthat static map with Locks is something that makes me feel a bit uncomfortable \u003d\\",
      "range": {
        "startLine": 42,
        "startChar": 5,
        "endLine": 43,
        "endChar": 15
      },
      "revId": "b72ed4656d51e82fe323b4a0382ef60fd52891a1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b2b0648_f8fa871c",
        "filename": "room/runtime/src/main/java/androidx/room/util/ProcessLock.java",
        "patchSetId": 9
      },
      "lineNbr": 43,
      "author": {
        "id": 1258207
      },
      "writtenOn": "2019-06-21T16:34:05Z",
      "side": 1,
      "message": "FileLock sadly doesn\u0027t provide synchronization within the same JVM process, since for all purposes its the same process that has the file lock, multiple threads will seem as if they had the lock, which breaks feature on multi-instance Room on same process, that is why we need the extra thread-level layer. The static map and having it in memory for the duration of the process is not great, but it is a \u0027process-level synchronization\u0027 so it makes sense.",
      "parentUuid": "af1b8665_f2976d5d",
      "range": {
        "startLine": 42,
        "startChar": 5,
        "endLine": 43,
        "endChar": 15
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "b72ed4656d51e82fe323b4a0382ef60fd52891a1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "011246c9_4bb00d87",
        "filename": "room/runtime/src/main/java/androidx/room/util/ProcessLock.java",
        "patchSetId": 9
      },
      "lineNbr": 43,
      "author": {
        "id": 1098853
      },
      "writtenOn": "2019-06-21T17:39:39Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0b2b0648_f8fa871c",
      "range": {
        "startLine": 42,
        "startChar": 5,
        "endLine": 43,
        "endChar": 15
      },
      "revId": "b72ed4656d51e82fe323b4a0382ef60fd52891a1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}