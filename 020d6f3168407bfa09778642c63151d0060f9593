{
  "comments": [
    {
      "key": {
        "uuid": "de6419b6_8d38e0a9",
        "filename": "work/workmanager/src/main/java/androidx/work/impl/utils/CancelWorkRunnable.java",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1060206
      },
      "writtenOn": "2018-11-19T22:00:24Z",
      "side": 1,
      "message": "In the case of APPEND, isn\u0027t this called inside an outer transaction?",
      "range": {
        "startLine": 70,
        "startChar": 9,
        "endLine": 70,
        "endChar": 15
      },
      "revId": "020d6f3168407bfa09778642c63151d0060f9593",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "76cd4210_9b845874",
        "filename": "work/workmanager/src/main/java/androidx/work/impl/utils/CancelWorkRunnable.java",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1344433
      },
      "writtenOn": "2018-11-19T23:56:51Z",
      "side": 1,
      "message": "You are correct. This does not solve the REPLACE in EnqueueRunnable.\n\nIf we really want to do this we need to break-up EnqueueRunnable into multiple transactions.\nI am reverting this change for now.\n\nThe only reason why my tests work the way they do is because onStopped() is called from the task executor thread via one of 2 methods:\n\nCancelWorkRunnable() -\u003e \u003cT /\u003e -\u003e WorkerWrapper#onStopped()\nEnqueueRunnable() -\u003e \u003cT\u003e -\u003e .... \u003e CancelWorkRunnable() -\u003e \u003cT/\u003e -\u003e WorkerWrapper#onStopped() -\u003e \u003c/T\u003e\n\nIf we ever moved WorkerWrapped#onStopped() to a different thread - then this would break.",
      "parentUuid": "de6419b6_8d38e0a9",
      "range": {
        "startLine": 70,
        "startChar": 9,
        "endLine": 70,
        "endChar": 15
      },
      "revId": "020d6f3168407bfa09778642c63151d0060f9593",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d64cc04_dfaed3a7",
        "filename": "work/workmanager/src/main/java/androidx/work/impl/utils/CancelWorkRunnable.java",
        "patchSetId": 2
      },
      "lineNbr": 84,
      "author": {
        "id": 1060206
      },
      "writtenOn": "2018-11-19T22:00:24Z",
      "side": 1,
      "message": "Does this actually have code that hits the database?",
      "range": {
        "startLine": 84,
        "startChar": 12,
        "endLine": 84,
        "endChar": 40
      },
      "revId": "020d6f3168407bfa09778642c63151d0060f9593",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4972d0bd_3be1a60a",
        "filename": "work/workmanager/src/main/java/androidx/work/impl/utils/CancelWorkRunnable.java",
        "patchSetId": 2
      },
      "lineNbr": 84,
      "author": {
        "id": 1344433
      },
      "writtenOn": "2018-11-19T23:56:51Z",
      "side": 1,
      "message": "We have inner transactions, and I wanted them to settle together.",
      "parentUuid": "0d64cc04_dfaed3a7",
      "range": {
        "startLine": 84,
        "startChar": 12,
        "endLine": 84,
        "endChar": 40
      },
      "revId": "020d6f3168407bfa09778642c63151d0060f9593",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}