{
  "comments": [
    {
      "key": {
        "uuid": "d5202674_358f4505",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1344408
      },
      "writtenOn": "2018-10-15T15:10:45Z",
      "side": 1,
      "message": "nit: drop the the, it\u0027s cleaner",
      "range": {
        "startLine": 11,
        "startChar": 37,
        "endLine": 11,
        "endChar": 40
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7fa1d4f0_033c4989",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1344408
      },
      "writtenOn": "2018-10-15T15:10:45Z",
      "side": 1,
      "message": "nit: instantly jumps -\u003e will instantly jump",
      "range": {
        "startLine": 11,
        "startChar": 6,
        "endLine": 11,
        "endChar": 21
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4d2f9e9f_4acb3f14",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-10-17T17:32:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d5202674_358f4505",
      "range": {
        "startLine": 11,
        "startChar": 37,
        "endLine": 11,
        "endChar": 40
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "76a283bc_018a970a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-10-17T17:32:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7fa1d4f0_033c4989",
      "range": {
        "startLine": 11,
        "startChar": 6,
        "endLine": 11,
        "endChar": 21
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16006d45_fa78a715",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 1
      },
      "lineNbr": 436,
      "author": {
        "id": 1344408
      },
      "writtenOn": "2018-10-15T15:10:45Z",
      "side": 1,
      "message": "nit: broken formatting",
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f6579a8_19261473",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 1
      },
      "lineNbr": 436,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-10-17T17:32:51Z",
      "side": 1,
      "message": "That\u0027s not a nit, that\u0027s just wrong :)",
      "parentUuid": "16006d45_fa78a715",
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ea217c64_2cee3f2e",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 1
      },
      "lineNbr": 437,
      "author": {
        "id": 1344408
      },
      "writtenOn": "2018-10-15T15:14:59Z",
      "side": 1,
      "message": "also, please add a sample log, like in the other tests",
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6cb31c9_b374ea1a",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 1
      },
      "lineNbr": 437,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-10-17T17:32:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ea217c64_2cee3f2e",
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4db741a3_139342a1",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 1
      },
      "lineNbr": 760,
      "author": {
        "id": 1344408
      },
      "writtenOn": "2018-10-15T15:10:45Z",
      "side": 1,
      "message": "I don\u0027t think that name reflects what the method does. Also the signature is not intuitive. I\u0027d inline it (it\u0027s only used once, right?).",
      "range": {
        "startLine": 760,
        "startChar": 34,
        "endLine": 760,
        "endChar": 64
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f5623faf_14859336",
        "filename": "viewpager2/src/androidTest/java/androidx/viewpager2/widget/PageChangeListenerTest.kt",
        "patchSetId": 1
      },
      "lineNbr": 760,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-10-17T17:32:51Z",
      "side": 1,
      "message": "Yes, it\u0027s only used once.\nDone",
      "parentUuid": "4db741a3_139342a1",
      "range": {
        "startLine": 760,
        "startChar": 34,
        "endLine": 760,
        "endChar": 64
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8a334c43_f939d822",
        "filename": "viewpager2/src/main/java/androidx/viewpager2/widget/ViewPager2.java",
        "patchSetId": 1
      },
      "lineNbr": 388,
      "author": {
        "id": 1344408
      },
      "writtenOn": "2018-10-15T15:10:45Z",
      "side": 1,
      "message": "This line confuses me every time. Maybe introduce previousItem later, or rename to something that holds \u0027true\u0027 at the state when it\u0027s introduced.",
      "range": {
        "startLine": 388,
        "startChar": 8,
        "endLine": 388,
        "endChar": 42
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d467fd0_74ad438f",
        "filename": "viewpager2/src/main/java/androidx/viewpager2/widget/ViewPager2.java",
        "patchSetId": 1
      },
      "lineNbr": 388,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-10-15T21:17:44Z",
      "side": 1,
      "message": "+1 to moving this just before mCurrentItem \u003d item.",
      "parentUuid": "8a334c43_f939d822",
      "range": {
        "startLine": 388,
        "startChar": 8,
        "endLine": 388,
        "endChar": 42
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b85d8d8_2935da54",
        "filename": "viewpager2/src/main/java/androidx/viewpager2/widget/ViewPager2.java",
        "patchSetId": 1
      },
      "lineNbr": 388,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-10-17T17:32:51Z",
      "side": 1,
      "message": "Done (although moved mCurrentItem \u003d item to here rather than the other way around)",
      "parentUuid": "8d467fd0_74ad438f",
      "range": {
        "startLine": 388,
        "startChar": 8,
        "endLine": 388,
        "endChar": 42
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2a5d6202_3cde8eee",
        "filename": "viewpager2/src/main/java/androidx/viewpager2/widget/ViewPager2.java",
        "patchSetId": 1
      },
      "lineNbr": 390,
      "author": {
        "id": 1344408
      },
      "writtenOn": "2018-10-15T15:10:45Z",
      "side": 1,
      "message": "This deserves a comment, not sure how it works anymore.",
      "range": {
        "startLine": 390,
        "startChar": 45,
        "endLine": 390,
        "endChar": 60
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77c74ca6_2fd9b0f9",
        "filename": "viewpager2/src/main/java/androidx/viewpager2/widget/ViewPager2.java",
        "patchSetId": 1
      },
      "lineNbr": 390,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-10-15T21:17:44Z",
      "side": 1,
      "message": "Maybe collapse to one if statement?",
      "range": {
        "startLine": 389,
        "startChar": 8,
        "endLine": 390,
        "endChar": 63
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "414f1532_1279f996",
        "filename": "viewpager2/src/main/java/androidx/viewpager2/widget/ViewPager2.java",
        "patchSetId": 1
      },
      "lineNbr": 390,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-10-17T17:32:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "77c74ca6_2fd9b0f9",
      "range": {
        "startLine": 389,
        "startChar": 8,
        "endLine": 390,
        "endChar": 63
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "80997952_8a4b53d1",
        "filename": "viewpager2/src/main/java/androidx/viewpager2/widget/ViewPager2.java",
        "patchSetId": 1
      },
      "lineNbr": 390,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-10-17T17:32:51Z",
      "side": 1,
      "message": "Ack. I believe this was the result of simplifying a more verbose expression. Will get the verbose one back (which is easier to follow) and add the comments",
      "parentUuid": "2a5d6202_3cde8eee",
      "range": {
        "startLine": 390,
        "startChar": 45,
        "endLine": 390,
        "endChar": 60
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a41697f1_a40942f7",
        "filename": "viewpager2/src/main/java/androidx/viewpager2/widget/ViewPager2.java",
        "patchSetId": 1
      },
      "lineNbr": 395,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-10-15T21:17:44Z",
      "side": 1,
      "message": "I think in the given programmatic flow, things are a bit confusing around the source of truth for the currently selected item.  For example, this call is actually redundant even though it seems completely reasonable.  When \"mScrollEventAdapter.notifyProgrammaticScroll(item, smoothScroll);\" is called below, if the current selected item has changed, mCurrentItem will be updated via the \"currentItemUpdater\" field.\n\n1. I would suggest considering eliminating this confusion by making ScrollEventAdapter the source of truth for what item is currently selected.  I know that changes the meaning of ScrolEventAdapter, but I\u0027d argue that the class javadoc for ScrollEventAdapter is already a muddied by other calls that query ScrollEventAdapter for information about it\u0027s internal state.  Thoughts?  Can not be in this CL if you\u0027d prefer, but I\u0027d follow up quickly to keep things clean if you guys think its a good idea.\n\nMaybe ScrollEventAdapter\u0027s description, and even name, should up updated to better represent the fact that it does more than just translate scroll events? (Not in this CL of course).",
      "range": {
        "startLine": 395,
        "startChar": 8,
        "endLine": 395,
        "endChar": 28
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fccda180_3f3e9be2",
        "filename": "viewpager2/src/main/java/androidx/viewpager2/widget/ViewPager2.java",
        "patchSetId": 1
      },
      "lineNbr": 395,
      "author": {
        "id": 1347655
      },
      "writtenOn": "2018-10-17T17:32:51Z",
      "side": 1,
      "message": "Yes, this has crossed my mind while implementing the features up till here, so I think it is a totally valid point.\n\nI decided to keep mCurrentItem in ViewPager2, because it feels like its their responsibility to keep track of the current item and because it is part of the view state. However, I\u0027m not completely convinced of either this or the proposed solution, so I think I might write a PoC where ScrollEventAdapter becomes the owner of mCurrentItem. I filed an issue for it: b/117877033.\n\nIn the mean time, I changed the class javadoc of ScrollEventAdapter to reflect its coupling with ViewPager2 and update the description of its responsibilities.\n\nMarking this as resolved, but happy to keep discussing this point on chat/VC/email/etc.",
      "parentUuid": "a41697f1_a40942f7",
      "range": {
        "startLine": 395,
        "startChar": 8,
        "endLine": 395,
        "endChar": 28
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "95328b82_a96bce43",
        "filename": "viewpager2/src/main/java/androidx/viewpager2/widget/ViewPager2.java",
        "patchSetId": 1
      },
      "lineNbr": 395,
      "author": {
        "id": 1344416
      },
      "writtenOn": "2018-10-17T21:02:55Z",
      "side": 1,
      "message": "I still think its a good idea to make this change.  Whether or not it is ViewPager2\u0027s responsibility feels a bit arbitrary in that all of ScrollEventAdapter is also ViewPager2\u0027s responsibility... but ScrollEventAdapter is just an internal helper that manages some of the complexity for ViewPager2.  And it seems to me that 1 source of truth is pretty much just better than there being 2.\n\nBut, no need to make the change in this CL... and ultimately, it is up to you guys.  If you are strongly against it, no big deal.",
      "parentUuid": "fccda180_3f3e9be2",
      "range": {
        "startLine": 395,
        "startChar": 8,
        "endLine": 395,
        "endChar": 28
      },
      "revId": "467e426ce433e871e4bf817da69001b47dcf596a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}