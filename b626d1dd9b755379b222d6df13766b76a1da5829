{
  "comments": [
    {
      "key": {
        "uuid": "4e9646b1_aaafbdde",
        "filename": "mediarouter/src/main/java/androidx/mediarouter/app/MediaRouteCastDialog.java",
        "patchSetId": 5
      },
      "lineNbr": 470,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2018-08-31T02:13:53Z",
      "side": 1,
      "message": "Find better name for this -- currently the name doesn\u0027t explain what kind of view in the layout will be updated.",
      "range": {
        "startLine": 470,
        "startChar": 9,
        "endLine": 470,
        "endChar": 27
      },
      "revId": "b626d1dd9b755379b222d6df13766b76a1da5829",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f7d6970_cebbe740",
        "filename": "mediarouter/src/main/java/androidx/mediarouter/app/MediaRouteCastDialog.java",
        "patchSetId": 5
      },
      "lineNbr": 470,
      "author": {
        "id": 1344758
      },
      "writtenOn": "2018-08-31T12:32:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e9646b1_aaafbdde",
      "range": {
        "startLine": 470,
        "startChar": 9,
        "endLine": 470,
        "endChar": 27
      },
      "revId": "b626d1dd9b755379b222d6df13766b76a1da5829",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c982dcfa_97caab81",
        "filename": "mediarouter/src/main/java/androidx/mediarouter/app/MediaRouteCastDialog.java",
        "patchSetId": 5
      },
      "lineNbr": 1069,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2018-08-31T02:13:53Z",
      "side": 1,
      "message": "why not \u0027updateRecyclerView\u0027?",
      "range": {
        "startLine": 1066,
        "startChar": 12,
        "endLine": 1069,
        "endChar": 13
      },
      "revId": "b626d1dd9b755379b222d6df13766b76a1da5829",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07a5b215_efd2b53a",
        "filename": "mediarouter/src/main/java/androidx/mediarouter/app/MediaRouteCastDialog.java",
        "patchSetId": 5
      },
      "lineNbr": 1069,
      "author": {
        "id": 1344758
      },
      "writtenOn": "2018-08-31T12:32:47Z",
      "side": 1,
      "message": "updateRecyclerView calls notifyDatasetChanged which will bind all of the views showing in screen. Since onRouteChanged get changed route as a parameter, only binding a viewholder which is holding changed parameter seems more efficient to me.",
      "parentUuid": "c982dcfa_97caab81",
      "range": {
        "startLine": 1066,
        "startChar": 12,
        "endLine": 1069,
        "endChar": 13
      },
      "revId": "b626d1dd9b755379b222d6df13766b76a1da5829",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "160588f8_f52baaf4",
        "filename": "mediarouter/src/main/java/androidx/mediarouter/app/MediaRouteCastDialog.java",
        "patchSetId": 5
      },
      "lineNbr": 1069,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2018-09-02T11:07:31Z",
      "side": 1,
      "message": "Note that previously it was refreshRoutes() that updates all views, plus doesn\u0027t update within the timeline..\n\nGiven the logic above, I suspect that there\u0027s reason for it. (e.g. some route change events that calls multiple onRouteChanged() for a single event)\n\nCould you double check for the reason (use \u0027git blame\u0027) and explain the reason?",
      "parentUuid": "07a5b215_efd2b53a",
      "range": {
        "startLine": 1066,
        "startChar": 12,
        "endLine": 1069,
        "endChar": 13
      },
      "revId": "b626d1dd9b755379b222d6df13766b76a1da5829",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9eae639d_a5bbcb36",
        "filename": "mediarouter/src/main/java/androidx/mediarouter/app/MediaRouteCastDialog.java",
        "patchSetId": 5
      },
      "lineNbr": 1069,
      "author": {
        "id": 1344758
      },
      "writtenOn": "2018-09-03T10:31:26Z",
      "side": 1,
      "message": "I\u0027ve checked log with git blame and there\u0027s no documented reason for calling refreshRoutes since MRChooserDialog calls refreshRoutes() when onRouteChagned is triggered at the very first version of its implementation. \n(FYI, MRChooserDialog calls refreshRoutes() and MRControllerDialog calls update() when onRouteChanged() is triggered.)\n \nAnd, I think only updating ui of changed route seems ok. There are two reasons.\n\nFirst,  \nCurrently, refreshRoutes() filters routes (with their device type) and sorts them(with their name). So, if device type or name of routes can be changed, dialog has to call refreshRoutes() when onRouteChanged() is triggered. \nHowever, device type or name of routes are the attributes that nearly don\u0027t change. \n\nSecond, \nonRouteChanged() can be triggered when selection state of route is changed, which means calling refreshRoutes() when onRouteChanged() is triggered will make distinguishing between initially selected routes and newly added routes impossible. \n\nIf there\u0027s anything that makes confusion, feel free to ping me. \nThanks.",
      "parentUuid": "160588f8_f52baaf4",
      "range": {
        "startLine": 1066,
        "startChar": 12,
        "endLine": 1069,
        "endChar": 13
      },
      "revId": "b626d1dd9b755379b222d6df13766b76a1da5829",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2f09f552_bb125415",
        "filename": "mediarouter/src/main/java/androidx/mediarouter/app/MediaRouteCastDialog.java",
        "patchSetId": 5
      },
      "lineNbr": 1069,
      "author": {
        "id": 1019013
      },
      "writtenOn": "2018-09-07T06:48:44Z",
      "side": 1,
      "message": "ag/1099050 (b/29061029) says that route list needs to be updated with delays, but you\u0027re changing the changed route immediately.\nCast dialog is similar with chooser dialog for showing unselected route, so we\u0027d better get some ideas from its old implementation.\n\n\nRegarding your the second reason\n\u003e onRouteChanged() can be triggered when selection state of route is changed, which means calling refreshRoutes() when onRouteChanged() is triggered will make distinguishing between initially selected routes and newly added routes impossible. \n\nWhy it\u0027s impossible? You can simply keep the set of the selected routes.",
      "parentUuid": "9eae639d_a5bbcb36",
      "range": {
        "startLine": 1066,
        "startChar": 12,
        "endLine": 1069,
        "endChar": 13
      },
      "revId": "b626d1dd9b755379b222d6df13766b76a1da5829",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "be613d6a_3df5d986",
        "filename": "mediarouter/src/main/java/androidx/mediarouter/app/MediaRouteCastDialog.java",
        "patchSetId": 5
      },
      "lineNbr": 1069,
      "author": {
        "id": 1344758
      },
      "writtenOn": "2018-09-13T08:05:06Z",
      "side": 1,
      "message": "I make dialog to call refreshRoutesView(which cumulates changes, so makes updateRoutesView called too frequently. \u003c-- just like refreshRoutes) when onRouteChanged is triggered in new patchset. Thanks!",
      "parentUuid": "2f09f552_bb125415",
      "range": {
        "startLine": 1066,
        "startChar": 12,
        "endLine": 1069,
        "endChar": 13
      },
      "revId": "b626d1dd9b755379b222d6df13766b76a1da5829",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}