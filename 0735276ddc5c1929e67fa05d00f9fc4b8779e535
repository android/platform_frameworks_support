{
  "comments": [
    {
      "key": {
        "uuid": "2731a32a_e040c161",
        "filename": "fragment/src/main/java/androidx/fragment/app/FragmentManagerImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 1015,
      "author": {
        "id": 1060451
      },
      "writtenOn": "2018-11-21T23:15:25Z",
      "side": 1,
      "message": "The changes here are the important ones, everything else supports this actually working correctly.",
      "revId": "0735276ddc5c1929e67fa05d00f9fc4b8779e535",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dada7526_5b134515",
        "filename": "fragment/src/main/java/androidx/fragment/app/FragmentManagerImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 1015,
      "author": {
        "id": 1098853
      },
      "writtenOn": "2018-11-22T14:59:43Z",
      "side": 1,
      "message": "I\u0027m missing the point \u003d( Yeah hardcoded dependency on activity.isChangingConfigurations() is bad. But why can\u0027t we simply ask mNonConfig, which is ViewModel, if it was cleared or not? Theoretically it should already get the signal (⊙.☉)7",
      "parentUuid": "2731a32a_e040c161",
      "revId": "0735276ddc5c1929e67fa05d00f9fc4b8779e535",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46e796a4_93fde2bf",
        "filename": "fragment/src/main/java/androidx/fragment/app/FragmentManagerImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 1015,
      "author": {
        "id": 1060451
      },
      "writtenOn": "2018-11-22T17:22:21Z",
      "side": 1,
      "message": "FragmentManagerImpl supports two different non config worlds - the more snapshot world of yore (see mNonConfig.getSnapshot() and mNonConfig.restoreFromSnapshot(), used by Android Auto, non-FragmentActivity cases) and the ViewModel world we\u0027d like everyone to use. Unfortunately, in the snapshot case, mNonConfig doesn\u0027t ever actually get cleared since it never gets attached to a ViewModelStore so we can\u0027t rely on that signal.",
      "parentUuid": "dada7526_5b134515",
      "revId": "0735276ddc5c1929e67fa05d00f9fc4b8779e535",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1462613f_f5ec8bb9",
        "filename": "fragment/src/main/java/androidx/fragment/app/FragmentManagerImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 1015,
      "author": {
        "id": 1060451
      },
      "writtenOn": "2018-11-23T17:37:47Z",
      "side": 1,
      "message": "Thinking about this more, I think you\u0027re right. Let\u0027s write the APIs in terms of the new world (where you can rely on mNonConfig being cleared) and only use activity.isChangingConfigurations() for the old world, which doesn\u0027t expect anything more than that anyways.\n\nRefactored things to avoid needing the dispatchDestroy(boolean isChangingConfigurations).",
      "parentUuid": "46e796a4_93fde2bf",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "0735276ddc5c1929e67fa05d00f9fc4b8779e535",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}