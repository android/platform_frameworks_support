{
  "comments": [
    {
      "key": {
        "uuid": "e53959b9_2a752310",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextClassificationManager.java",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1060841
      },
      "writtenOn": "2018-09-07T08:34:15Z",
      "side": 1,
      "message": "I really feel like this makes thing too complicated..\n\nI think Michael mentioned that getApplicationContext() should not return null in b/80188317#comment29, let\u0027s just keep it simple?\n\nAFAIK, getApplicationContext can only be null before Application.onCreate is run.",
      "revId": "fce0cdb245e8b4559b74e351a24be8d2bec236ee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "660bd6c5_1d56e2b6",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextClassificationManager.java",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1138403
      },
      "writtenOn": "2018-09-07T11:34:38Z",
      "side": 1,
      "message": "What exactly makes the code complicated?\nThe fact that I\u0027m checking for appContext or the fact that I\u0027m using a WeakReference?\n\n1. appContext being null.\nMichael also wrote ag/4182721. Which means platform TCM would work in such situations but will break in Android X. I think being explicit about this helps make devs more aware that we\u0027re not supporting contexts without app contexts.\n\n2. Using a WeakReference.\nI think it\u0027s just good practice to not hold a strong static reference to Context. It\u0027s good Android practice.",
      "parentUuid": "e53959b9_2a752310",
      "revId": "fce0cdb245e8b4559b74e351a24be8d2bec236ee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17996703_0d23c083",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextClassificationManager.java",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1060841
      },
      "writtenOn": "2018-09-07T15:10:33Z",
      "side": 1,
      "message": "The \"tcm.mAppContext !\u003d appContex\" and the WeakReference part.\n\nappContext is singleton, it would not change.\nAlso, it is not okay to hold strong reference like Activity, but it is okay to strong reference to appContext.\n\nThanks!",
      "parentUuid": "660bd6c5_1d56e2b6",
      "revId": "fce0cdb245e8b4559b74e351a24be8d2bec236ee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b64d455c_ea117a6e",
        "filename": "textclassifier/src/main/java/androidx/textclassifier/TextClassificationManager.java",
        "patchSetId": 2
      },
      "lineNbr": 70,
      "author": {
        "id": 1138403
      },
      "writtenOn": "2018-09-07T16:01:05Z",
      "side": 1,
      "message": "Sure. Thanks.\nI\u0027m tempted to explicitly rename TCM.of(context) to TCM.of(appContext) and add Javadoc saying pass the appContext. I wonder if I can guarantee at runtime that an appContext is passed or if I can\u0027t trust that and have to explicitly still attempt to pull an appContext from the supplied context.",
      "parentUuid": "17996703_0d23c083",
      "revId": "fce0cdb245e8b4559b74e351a24be8d2bec236ee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}