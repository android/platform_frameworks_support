{
  "comments": [
    {
      "key": {
        "uuid": "119a38c8_11810881",
        "filename": "media2/src/main/java/androidx/media2/MediaController2Stub.java",
        "patchSetId": 1
      },
      "lineNbr": 488,
      "author": {
        "id": 1112679
      },
      "writtenOn": "2018-11-12T08:02:29Z",
      "side": 1,
      "message": "Same code needed.",
      "range": {
        "startLine": 488,
        "startChar": 7,
        "endLine": 488,
        "endChar": 8
      },
      "revId": "bd3f31d58dcf4af8dcdc326706c1d6cbe01cc689",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7bf0b82_79a1a7a8",
        "filename": "media2/src/main/java/androidx/media2/MediaController2Stub.java",
        "patchSetId": 1
      },
      "lineNbr": 488,
      "author": {
        "id": 1379942
      },
      "writtenOn": "2018-11-12T08:15:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "119a38c8_11810881",
      "range": {
        "startLine": 488,
        "startChar": 7,
        "endLine": 488,
        "endChar": 8
      },
      "revId": "bd3f31d58dcf4af8dcdc326706c1d6cbe01cc689",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8c3c28b3_d5129723",
        "filename": "media2/src/main/java/androidx/media2/MediaSession2Stub.java",
        "patchSetId": 1
      },
      "lineNbr": 168,
      "author": {
        "id": 1112679
      },
      "writtenOn": "2018-11-12T08:02:29Z",
      "side": 1,
      "message": "How about gathering all codes in dispatch*Task to dispatchSessionTaskInternal()?",
      "range": {
        "startLine": 163,
        "startChar": 8,
        "endLine": 168,
        "endChar": 9
      },
      "revId": "bd3f31d58dcf4af8dcdc326706c1d6cbe01cc689",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ea37eb6_97b78b35",
        "filename": "media2/src/main/java/androidx/media2/MediaSession2Stub.java",
        "patchSetId": 1
      },
      "lineNbr": 168,
      "author": {
        "id": 1379942
      },
      "writtenOn": "2018-11-12T08:15:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8c3c28b3_d5129723",
      "range": {
        "startLine": 163,
        "startChar": 8,
        "endLine": 168,
        "endChar": 9
      },
      "revId": "bd3f31d58dcf4af8dcdc326706c1d6cbe01cc689",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1861712f_340f7bed",
        "filename": "media2/src/main/java/androidx/media2/MediaSession2Stub.java",
        "patchSetId": 1
      },
      "lineNbr": 333,
      "author": {
        "id": 1112679
      },
      "writtenOn": "2018-11-12T08:02:29Z",
      "side": 1,
      "message": "It seems better to move this to L459\u0027s connect().",
      "range": {
        "startLine": 333,
        "startChar": 8,
        "endLine": 333,
        "endChar": 57
      },
      "revId": "bd3f31d58dcf4af8dcdc326706c1d6cbe01cc689",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec9edad3_ef76ec73",
        "filename": "media2/src/main/java/androidx/media2/MediaSession2Stub.java",
        "patchSetId": 1
      },
      "lineNbr": 333,
      "author": {
        "id": 1379942
      },
      "writtenOn": "2018-11-12T08:15:29Z",
      "side": 1,
      "message": "It will break Binder.getCallingPid() and  Binder.getCallingUid() in the L459\u0027s connect().\n\nWhat Binder.clearCallingIdentity() does is changing pid and uid.\nhttps://cs.corp.google.com/android/system/libhwbinder/IPCThreadState.cpp?dr\u003dCSs\u0026l\u003d361",
      "parentUuid": "1861712f_340f7bed",
      "range": {
        "startLine": 333,
        "startChar": 8,
        "endLine": 333,
        "endChar": 57
      },
      "revId": "bd3f31d58dcf4af8dcdc326706c1d6cbe01cc689",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cf126137_a20011dd",
        "filename": "media2/src/main/java/androidx/media2/MediaSession2Stub.java",
        "patchSetId": 1
      },
      "lineNbr": 333,
      "author": {
        "id": 1112679
      },
      "writtenOn": "2018-11-12T08:29:31Z",
      "side": 1,
      "message": "That\u0027s right. But we can just store the uid and pid before cleaning them. For example:\n\n  final int uid \u003d Binder.get*Uid();\n  final int pid \u003d Binder.get*Pid();\n\n  token \u003d Binder.clearCallingIdentity();\n  connect(..., uid, pid);\n  Binder.restoreCallingIdentity(token);",
      "parentUuid": "ec9edad3_ef76ec73",
      "range": {
        "startLine": 333,
        "startChar": 8,
        "endLine": 333,
        "endChar": 57
      },
      "revId": "bd3f31d58dcf4af8dcdc326706c1d6cbe01cc689",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1522b446_781055d2",
        "filename": "media2/src/main/java/androidx/media2/MediaSession2Stub.java",
        "patchSetId": 1
      },
      "lineNbr": 333,
      "author": {
        "id": 1112679
      },
      "writtenOn": "2018-11-12T08:31:48Z",
      "side": 1,
      "message": "https://cs.corp.google.com/android/frameworks/base/services/core/java/com/android/server/media/MediaSessionService.java?rcl\u003dd8bfc60262858674428a59a5de62b2aaa68fc966\u0026l\u003d1008",
      "parentUuid": "cf126137_a20011dd",
      "range": {
        "startLine": 333,
        "startChar": 8,
        "endLine": 333,
        "endChar": 57
      },
      "revId": "bd3f31d58dcf4af8dcdc326706c1d6cbe01cc689",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d15fccb7_0962076c",
        "filename": "media2/src/main/java/androidx/media2/MediaSession2Stub.java",
        "patchSetId": 1
      },
      "lineNbr": 333,
      "author": {
        "id": 1379942
      },
      "writtenOn": "2018-11-12T22:38:02Z",
      "side": 1,
      "message": "Done\n\nI also handled the MediaSessionService2Stub.Connect() which could call this function.",
      "parentUuid": "1522b446_781055d2",
      "range": {
        "startLine": 333,
        "startChar": 8,
        "endLine": 333,
        "endChar": 57
      },
      "revId": "bd3f31d58dcf4af8dcdc326706c1d6cbe01cc689",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}